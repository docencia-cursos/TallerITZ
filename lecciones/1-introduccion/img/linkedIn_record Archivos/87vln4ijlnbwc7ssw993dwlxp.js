define.alias("@glimmer/component/-private/ember-component-manager","messaging/component-managers/glimmer")
define("messaging/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define("messaging/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define.alias("artdeco-button/components/artdeco-button","messaging/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","messaging/components/artdeco-calendar")
define.alias("artdeco-carousel/components/artdeco-carousel-item","messaging/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","messaging/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","messaging/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","messaging/components/artdeco-carousel")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","messaging/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","messaging/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","messaging/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","messaging/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","messaging/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","messaging/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","messaging/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","messaging/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","messaging/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","messaging/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","messaging/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","messaging/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","messaging/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","messaging/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","messaging/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","messaging/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","messaging/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","messaging/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","messaging/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","messaging/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","messaging/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","messaging/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","messaging/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","messaging/components/artdeco-loader")
define.alias("artdeco-modal/components/container","messaging/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","messaging/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","messaging/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","messaging/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","messaging/components/artdeco-modal")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","messaging/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","messaging/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","messaging/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","messaging/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","messaging/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","messaging/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","messaging/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","messaging/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","messaging/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","messaging/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","messaging/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","messaging/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","messaging/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","messaging/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","messaging/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","messaging/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","messaging/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","messaging/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","messaging/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","messaging/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","messaging/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","messaging/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","messaging/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","messaging/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","messaging/components/artdeco-typeahead")
define.alias("ember-semaphore/components/block-profile","messaging/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","messaging/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","messaging/components/cleared-content-modal")
define("messaging/components/conversation-list-feature",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"jr8NtAac",block:'[[[42,[28,[37,1],[[28,[37,1],[[30,1]],null]],null],"id",[[[41,[30,2,["isConversationStarterAdPreview"]],[[[1,"    "],[10,0],[14,0,"scaffold-layout__list-item msg-conversation-listitem msg-conversations-container__convo-item msg-conversations-container__pillar"],[12],[1,"\\n      "],[8,[39,3],[[24,0,"msg-conversation-card msg-conversations-container__pillar"]],[["@component"],[[30,2]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[8,[39,4],[[24,"tabindex","-1"]],[["@tagName","@class","@hintClassName","@rootMarginBottomBuffer","@occlusionEnabled"],["li","scaffold-layout__list-item msg-conversation-listitem msg-conversations-container__convo-item msg-conversations-container__pillar","msg-conversation-card--occluded",75,[28,[37,5],[[30,3],1],null]]],[["default"],[[[[1,"\\n      "],[8,[39,6],[[24,0,"msg-conversation-card msg-conversations-container__pillar"],[24,"data-feedback-redacted",""]],[["@conversation","@participants","@convoIndex","@selectedConversationIds","@isBulkActionsMode","@isSearchMode","@onOpenDetailClick","@onSelectableEntityClick","@afterRemovingConversation","@searchActionEventTracking","@selectedConversationUrns","@showPremiumUpsell","@conversationLength"],[[30,2],[30,4],[30,3],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14]]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]]]],[2,3]],[[[41,[28,[37,7],[[30,15]],null],[[[1,"\\n    "],[8,[30,16,["Item"]],null,null,[["default"],[[[[1,"\\n      "],[10,2],[14,0,"text-align-center pt9 pb4"],[12],[1,"\\n        "],[1,[28,[35,8],["i18n_no_messages","messaging/components/conversation-list-feature"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]],null]],[]]],[1,"\\n\\n"],[41,[30,15],[[[1,"  "],[8,[30,16,["Item"]],null,null,[["default"],[[[[1,"\\n    "],[8,[39,9],null,[["@size"],["small"]],null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],null]],["@conversations","conversation","index","@participants","@selectedConversationIds","@isBulkActionsMode","@isSearchMode","@onOpenDetailClick","@onSelectableEntityClick","@afterRemovingConversation","@fireSearchActionEventTracking","@selectedConversationUrns","@showPremiumUpsell","@conversationLength","@showLoadingState","@List"],false,["each","-track-array","if","messaging@interactive-messaging-component-presenter","occludable-area@occludable-area","global-helpers@gte","messaging@conversation-list-item-feature","global-helpers@not","t","artdeco-loader@artdeco-loader"]]',moduleName:"messaging/components/conversation-list-feature.hbs",isStrictMode:!1})
var s=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=s}))
define("messaging/components/conversation-list-item-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/service","@ember/object","@glimmer/component","tracked-toolbox","@ember/object/internals","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/constants","msg-ui/viewdata/sdk-conversation-list-item-viewdata"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y,v,_,w,C,x,M,D,S,k,P,T,O,I,A
const E=(0,r.createTemplateFactory)({id:"TRAh6haz",block:'[[[11,0],[16,1,[30,0,["conversationCardId"]]],[17,1],[4,[38,0],[[30,0,["createImpressionEvent"]]],[["routeName","currentRoute"],[[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,3],[[24,0,"msg-conversation-listitem__link msg-conversations-container__convo-item-link pl3"],[24,"role","button"],[4,[38,4],["click",[30,0,["onClick"]]],null]],[["@route","@model","@disabled"],["thread",[30,0,["viewData","id"]],[30,2]]],[["default"],[[[[1,"\\n    "],[8,[39,5],null,[["@viewData","@onCheckboxClick","@checkboxOnly","@checked","@entitySize","@iconSize"],[[30,0,["viewData","conversationEntityViewData"]],[28,[37,6],[[30,3],[30,0,["viewData","entityUrn"]]],null],[30,2],[30,0,["isChecked"]],4,"medium"]],null],[1,"\\n    "],[10,0],[15,0,[52,[30,0,["shouldRemoveBorder"]],"msg-conversation-card__content--selectable-no-border","msg-conversation-card__content--selectable"]],[12],[1,"\\n      "],[10,0],[14,0,"msg-conversation-card__rows"],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card__row msg-conversation-card__title-row"],[12],[1,"\\n          "],[10,"h3"],[15,0,[29,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate pr1 t-16 t-black\\n              ",[52,[30,0,["viewData","isRead"]],"t-normal","t-bold"]]]],[12],[1,"\\n            "],[1,[30,0,["viewData","title"]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-conversation-card__mute-icon-holder"],[12],[1,"\\n"],[41,[30,0,["viewData","isMute"]],[[[1,"              "],[10,0],[14,0,"msg-conversation-card__mute-icon"],[12],[1,"\\n                "],[8,[39,8],[[24,0,"v-align-top"]],[["@a11yText","@type","@size","@name"],[[28,[37,9],["i18n_convo_is_muted","messaging/components/conversation-list-item-feature"],[["names"],[[30,0,["viewData","title"]]]]],"system","medium","volume-mute"]],null],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"],[41,[30,0,["viewData","timestampText"]],[[[1,"            "],[10,"time"],[15,0,[29,["msg-conversation-listitem__time-stamp t-14 t-black\\n                ",[52,[30,0,["viewData","isRead"]],"t-normal","t-bold"],"\\n                ",[52,[30,0,["showConvoUtilityButtons"]],"msg-conversation-card__time-stamp"]]]],[12],[1,"\\n              "],[1,[30,0,["viewData","timestampText"]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showConvoUtilityButtons"]],[[[1,"            "],[10,0],[14,0,"msg-conversation-card__inbox-shortcuts-placeholder"],[12],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"msg-conversation-card__row msg-conversation-card__body-row"],[12],[1,"\\n          "],[10,0],[14,0,"msg-conversation-card__message-snippet-container flex-grow-1"],[12],[1,"\\n"],[41,[30,0,["viewData","messageRequestContext"]],[[[1,"              "],[10,2],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[1,"\\n                "],[1,[28,[35,10],[[30,0,["viewData","messageRequestContext"]]],null]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"            "],[10,2],[15,0,[29,[[52,[30,0,["viewData","nudgeText"]],"msg-conversation-card__message-snippet--v2","msg-conversation-card__message-snippet"],"\\n                ",[52,[30,0,["viewData","isStarred"]],"msg-conversation-card__message-snippet--starred"],"\\n                m0 t-14\\n                ",[52,[51,[30,0,["viewData","isRead"]]],"msg-conversation-card__message-snippet--unread"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","messageSnippetIcon"]],[[[1,"                "],[8,[39,8],[[24,0,"msg-conversation-card__message-snippet-icon"]],[["@name","@type","@size"],[[30,0,["viewData","messageSnippetIcon"]],"system","small"]],null],[1,"\\n"]],[]],null],[41,[30,0,["viewData","messageSnippetPillText"]],[[[1,"                "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n                  "],[1,[30,0,["viewData","messageSnippetPillText"]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"              "],[1,[30,0,["viewData","messageSnippetText"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"display-flex"],[12],[1,"\\n            "],[10,0],[15,0,[29,["msg-conversation-card__conversation-status msg-conversation-card__star-icon\\n                ",[52,[30,0,["viewData","isStarred"]],"msg-conversation-card__star-icon--starred"]]]],[15,"aria-label",[52,[30,0,["viewData","isStarred"]],[28,[37,9],["i18n_remove_star","messaging/components/conversation-list-item-feature"],null],[28,[37,9],["i18n_star_conversation","messaging/components/conversation-list-item-feature"],null]]],[14,"role","img"],[12],[1,"\\n"],[41,[30,0,["viewData","isStarred"]],[[[1,"                "],[8,[39,8],null,[["@type","@size","@name"],["system","small","star-fill"]],null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"],[41,[28,[37,12],[[30,0,["viewData","isRead"]]],null],[[[1,"              "],[10,0],[14,0,"msg-conversation-card__conversation-status t-black"],[12],[1,"\\n                "],[8,[39,13],[[24,0,"msg-conversation-card__unread-count artdeco-notification-badge--new text-align-center"],[16,"aria-label",[52,[30,0,["viewData","isRead"]],"",[28,[37,9],["aria_unread_count","messaging/components/conversation-list-item-feature"],[["unreadCount"],[[30,0,["viewData","conversationUnreadCount"]]]]]]]],[["@number","@showCount"],[[30,0,["viewData","conversationUnreadCount"]],true]],[["default"],[[[[1,"\\n"],[1,"                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,0,["viewData","nudgeText"]],[[[1,"          "],[11,2],[16,0,[29,[[52,[28,[37,14],null,null],"msg-conversation-card__nudge-text--small","msg-conversation-card__nudge-text--large"],"\\n              msg-conversation-card__nudge-text"]]],[4,[38,0],null,[["registerOnImpression","routeName","currentRoute"],[[30,0,["onNudgeImpression"]],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n            "],[1,[30,0,["viewData","nudgeText"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"msg-conversation-listitem__active-text visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,9],["i18n_a11y_active_conversation","messaging/components/conversation-list-item-feature"],null]],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,9],["i18n_a11y_thread_selection_action","messaging/components/conversation-list-item-feature"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"],[41,[30,0,["showConvoUtilityButtons"]],[[[1,"    "],[10,0],[14,0,"msg-conversation-card__inbox-shortcuts"],[12],[1,"\\n      "],[8,[39,15],null,[["@viewData","@showRenameConversationForm","@toggleConversationMute","@handleSuccessfulDiscardRequest","@isInboxShortcuts"],[[30,0,["viewData","conversationHeaderDropdownMenuViewData"]],[30,0,["handleDropdownRenameForm"]],[30,0,["toggleConversationMute"]],[30,4],true]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["&attrs","@isBulkActionsMode","@onSelectableEntityClick","@afterRemovingConversation"],false,["ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","link-to","on","msg-ui@selectable-entity-presenter","fn","if","hue-web-icons@icon","t","text-view-model@text-view-model","unless","global-helpers@not","artdeco-notification-badge@artdeco-notification-badge","msg-shared@is-in-overlay","msg-shared-modals@conversation-header-dropdown-menu-presenter"]]',moduleName:"messaging/components/conversation-list-item-feature.hbs",isStrictMode:!1}),{CONVERSATIONS_PER_PAGE:R}=g.default
let N=(f=(0,l.inject)("authentication@authenticated-user"),b=(0,l.inject)("formatter"),y=(0,l.inject)("i18n"),v=(0,l.inject)("msg-data@data-manager"),_=(0,l.inject)("date"),w=(0,l.inject)("tracking"),C=(0,l.inject)("lix"),x=(0,l.inject)("presence@presence-api-dash"),M=class extends d.default{constructor(){super(...arguments);(0,n.default)(this,"conversationCardId",`conversation-card-${(0,m.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",D,this);(0,t.default)(this,"formatter",S,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"msgDataManager",P,this);(0,t.default)(this,"dateService",T,this);(0,t.default)(this,"tracking",O,this);(0,t.default)(this,"lix",I,this);(0,t.default)(this,"presenceAPI",A,this)}get showConvoUtilityButtons(){return!this.args.isBulkActionsMode}get isChecked(){return this.args.selectedConversationUrns.includes(this.viewData.entityUrn)}get shouldRemoveBorder(){const{conversationLength:e,convoIndex:t,showPremiumUpsell:n}=this.args
return n&&e-1===t}get shouldDisplaySubjectForConversationAd(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-ad-subject")}createImpressionEvent(){const{viewData:{conversationBackendUrn:e,participantPresenceStatuses:t},args:{convoIndex:n}}=this
n>0&&n%R==0&&this.tracking.firePageViewEvent("flagship3_messaging_conversation_list_scroll")
return{name:"ConversationsImpressionEvent",body:{moduleKey:this.tracking.getCurrentPageKey(),conversations:[{objectUrn:e,trackingId:(0,u.generateTrackingId)()}],participantPresenceStatuses:t}}}onClick(){const{viewData:{entityUrn:e,id:t}}=this
this.args.isBulkActionsMode?this.args.onSelectableEntityClick(e):this.args.isSearchMode&&"function"==typeof this.args.searchActionEventTracking?this.args.searchActionEventTracking(e):this.args.onOpenDetailClick&&this.args.onOpenDetailClick()
this.tracking.fireInteractionEvent(this.viewData.controlName)
this.msgDataManager.nudgingDataManager.fireClickTracking(t)}toggleReadState(e){e.stopPropagation()
e.preventDefault()
return this.msgDataManager.toggleConversationRead(this.viewData.entityUrn,!this.viewData.isRead).then((()=>{if((0,o.isDestroying)(this))return
const e=document.getElementById(this.conversationCardId).querySelector(".msg-conversation-card__toggle-read-btn")
null==e||e.blur()}))}toggleConversationMute(){const{entityUrn:e,isMute:t}=this.viewData
return this.msgDataManager.toggleConversationMute(e,!t)}handleDropdownRenameForm(e){e.stopPropagation()
e.preventDefault()}toggleStarState(e){e.stopPropagation()
e.preventDefault()
const{entityUrn:t,isStarred:n}=this.viewData
this.msgDataManager.toggleConversationStar(t,!n)
const i=document.getElementById(this.conversationCardId).querySelector(".msg-conversation-card__star-icon")
null==i||i.blur()}onNudgeImpression(){const{viewData:e,args:{convoIndex:t}}=this
return()=>this.msgDataManager.nudgingDataManager.onImpression(e.id,e.conversationBackendUrn,t+1,"conversation-list-item")}get viewData(){const{conversation:e}=this.args
return new h.default({conversation:this.msgDataManager.getTrackedConversation(e.entityUrn),authenticatedUserMiniProfile:this.authenticatedUser.miniProfile.content,msgDataManager:this.msgDataManager,nowTimestamp:this.dateService.now(),formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI,shouldDisplaySubjectForConversationAd:this.shouldDisplaySubjectForConversationAd})}},D=(0,i.default)(M.prototype,"authenticatedUser",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(M.prototype,"formatter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(M.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(M.prototype,"msgDataManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(M.prototype,"dateService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(M.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(M.prototype,"lix",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(M.prototype,"presenceAPI",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(M.prototype,"createImpressionEvent",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"createImpressionEvent"),M.prototype),(0,i.default)(M.prototype,"onClick",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"onClick"),M.prototype),(0,i.default)(M.prototype,"toggleReadState",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"toggleReadState"),M.prototype),(0,i.default)(M.prototype,"toggleConversationMute",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"toggleConversationMute"),M.prototype),(0,i.default)(M.prototype,"handleDropdownRenameForm",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"handleDropdownRenameForm"),M.prototype),(0,i.default)(M.prototype,"toggleStarState",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"toggleStarState"),M.prototype),(0,i.default)(M.prototype,"onNudgeImpression",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"onNudgeImpression"),M.prototype),(0,i.default)(M.prototype,"viewData",[p.cached],Object.getOwnPropertyDescriptor(M.prototype,"viewData"),M.prototype),M)
e.default=N;(0,s.setComponentTemplate)(E,N)}))
define("messaging/components/conversation-thread-title-bar-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","msg-shared/utils/constants","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","messaging/viewdata/sdk-conversation-thread-title-bar-viewdata"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,b,y,v,_,w,C,x,M,D,S,k,P,T,O,I,A
const E=(0,r.createTemplateFactory)({id:"ndGZulTI",block:'[[[8,[39,0],null,[["@bemPrefix","@icon"],["msg-title-bar","arrow-left"]],[["default"],[[[[1,"\\n  "],[8,[39,1],null,[["@onClick"],[[30,1]]],null],[1,"\\n"],[41,[30,2,["groupChat"]],[[[1,"    "],[8,[39,3],null,[["@viewData","@headerReactionNotification"],[[30,0,["viewData","conversationThreadTitleTextViewData"]],[30,3]]],null],[1,"\\n"]],[]],[[[41,[30,0,["viewData","shouldRenderStaticName"]],[[[1,"      "],[8,[39,3],null,[["@viewData","@customTracking","@headerReactionNotification"],[[30,0,["viewData","conversationThreadTitleTextViewData"]],[30,0,["presenceCustomTracking"]],[30,3]]],null],[1,"\\n"]],[]],[[[41,[30,0,["profileNavigationEnabled"]],[[[1,"        "],[8,[39,4],[[24,0,"msg-thread__link-to-profile"],[16,"title",[30,0,["viewData","title"]]],[4,[38,5],["topcard"],null]],[["@href"],[[29,[[30,0,["viewData","recipientProfileUrl"]]]]]],[["default"],[[[[1,"\\n          "],[8,[39,3],null,[["@viewData","@customTracking","@headerReactionNotification"],[[30,0,["viewData","conversationThreadTitleTextViewData"]],[30,0,["presenceCustomTracking"]],[30,3]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,3],null,[["@viewData","@customTracking","@headerReactionNotification"],[[30,0,["viewData","conversationThreadTitleTextViewData"]],[30,0,["presenceCustomTracking"]],[30,3]]],null],[1,"\\n"]],[]]]],[]]]],[]]],[1,"  "],[8,[39,6],null,[["@viewData","@showRenameConversationForm","@toggleConversationMute","@addParticipantsPageKey","@handleSuccessfulDiscardRequest","@externalComps","@enableReportingSponsoredConversation","@trackingModuleName","@actionTrackingPrefix","@redirectToActiveConversation","@inverse"],[[30,0,["viewData","conversationHeaderDropdownMenuViewData"]],[30,4],[28,[37,7],[[30,0,["toggleConversationMute"]],[30,2],[30,0,["viewData","conversationHeaderDropdownMenuViewData","isMuted"]]],null],"flagship3_messaging_participant_detail_screen_displayed",[30,5],[28,[37,8],null,[["semaphoreComp"],[[50,"ember-semaphore@ember-semaphore",0,null,null]]]],[30,6],[30,7],[30,8],[30,9],[30,10]]],null],[1,"\\n\\n"],[41,[30,11],[[[1,"    "],[8,[39,10],null,[["@viewData","@ctaSize","@updateTextarea","@parentRefocusElement","@invertColor"],[[30,0,["viewData","virtualMeetingCtaViewData"]],2,[30,0,["updateMessageCompose"]],".msg-thread",[30,10]]],null],[1,"\\n"]],[]],null],[1,"  "],[11,"button"],[16,0,[29,["msg-thread__star-icon\\n      ",[52,[30,0,["viewData","isStarred"]],"msg-overlay-list-bubble__star-icon--starred"],"\\n      artdeco-button artdeco-button--circle artdeco-button--muted artdeco-button--2 artdeco-button--tertiary"]]],[16,"aria-label",[52,[30,0,["viewData","isStarred"]],[28,[37,11],["i18n_remove_star","messaging/components/conversation-thread-title-bar-feature"],null],[28,[37,11],["i18n_star_conversation","messaging/components/conversation-thread-title-bar-feature"],null]]],[24,4,"button"],[4,[38,12],["click",[30,0,["toggleStarState"]]],null],[12],[1,"\\n"],[41,[30,0,["viewData","isStarred"]],[[[1,"      "],[1,[28,[35,13],null,[["type","size","class"],["star-fill","medium","msg-thread__star-icon msg-thread__star-icon--starred"]]]],[1,"\\n"]],[]],null],[41,[51,[30,0,["viewData","isStarred"]]],[[[1,"      "],[8,[39,15],null,[["@iconSize"],[24]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],[]]]]]],["@onReflowBackClick","@conversation","@headerReactionNotification","@showRenameConversationForm","@handleSuccessfulDiscardRequest","@enableReportingSponsoredConversation","@trackingModuleName","@actionTrackingPrefix","@redirectToActiveConversation","@hasBadge","@showVideoMeetingButtonInHeader"],false,["title-bar@title-bar","scaffold-layout@detail/back-button","if","messaging@conversation-thread-title-text-presenter","app-aware-link@app-aware-link","ember-cli-pemberly-tracking@track-interaction","msg-shared-modals@conversation-header-dropdown-menu-presenter","fn","hash","component","msg-ui@virtual-meeting-cta-presenter","t","on","artdeco-icons-web@li-icon","unless","msg-ui@primitives/message-star-outline"]]',moduleName:"messaging/components/conversation-thread-title-bar-feature.hbs",isStrictMode:!1}),{ACTION_TYPES:R,CONTROL_NAMES:N}=d.default
let U=(g=(0,l.inject)("lix"),h=(0,l.inject)("msg-data@data-manager"),f=(0,l.inject)("msg-ui@update-message-compose"),b=(0,l.inject)("tracking"),y=(0,l.inject)("router"),v=(0,l.inject)("authentication@authenticated-user"),_=(0,l.inject)("formatter"),w=(0,l.inject)("i18n"),C=(0,l.inject)("presence@presence-api-dash"),x=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"lix",M,this);(0,t.default)(this,"msgDataManager",D,this);(0,t.default)(this,"updateMessageComposeService",S,this);(0,t.default)(this,"tracking",k,this);(0,t.default)(this,"router",P,this);(0,t.default)(this,"authenticatedUser",T,this);(0,t.default)(this,"formatter",O,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"presenceAPI",A,this)}updateMessageCompose(e){let{body:t}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({isOverlay:!1,messageText:t})}toggleConversationMute(e,t){const n=this.msgDataManager.toggleConversationMute((0,o.get)(e,"entityUrn"),!t),i=t?R.MUTE:R.UNMUTE
p.default.fireDetailActionEvent({actionType:i,conversationObjectUrn:(0,o.get)(e,"backendUrn"),participantUrns:p.default.getParticipantTrackingUrns((0,o.get)(e,"participants")),participantPresenceStatuses:(0,m.getParticipantPresenceStatuses)(e),controlName:N.CONVERSATION_ACTIONS.MUTE,trackingService:this.tracking})
return n}get profileNavigationEnabled(){return!this.lix.getTreatmentIsEnabled("voyager.web.messaging-project-x")||this.viewData.creatorProfileViewEnabled}get participant(){return(0,o.get)(this.args,"conversation.participants.firstObject")}toggleStarState(){const{entityUrn:e,isStarred:t}=this.viewData
this.msgDataManager.toggleConversationStar(e,!t)
const n=document.getElementById(this.args.messageThreadId).querySelector(".msg-thread__star-icon")
null==n||n.blur()}presenceCustomTracking(e){const{conversation:t}=this.args,n=this.tracking
p.default.firePresenceDecorationImpression(n,(0,o.get)(t,"entityUrn"),(0,m.getParticipantPresenceStatuses)(t),e)}get viewData(){const{conversation:e}=this.args,t=e.participants.map((e=>this.msgDataManager.mailboxParticipants[e]))
return new u.default({conversation:e,participants:t,msgDataManager:this.msgDataManager,authenticatedUserProfile:(0,o.get)(this.authenticatedUser,"miniProfile.content"),i18n:this.i18n,formatter:this.formatter,presenceAPI:this.presenceAPI})}},M=(0,i.default)(x.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(x.prototype,"msgDataManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(x.prototype,"updateMessageComposeService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(x.prototype,"tracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(x.prototype,"router",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(x.prototype,"authenticatedUser",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(x.prototype,"formatter",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(x.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(x.prototype,"presenceAPI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(x.prototype,"updateMessageCompose",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"updateMessageCompose"),x.prototype),(0,i.default)(x.prototype,"toggleConversationMute",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"toggleConversationMute"),x.prototype),(0,i.default)(x.prototype,"toggleStarState",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"toggleStarState"),x.prototype),(0,i.default)(x.prototype,"presenceCustomTracking",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"presenceCustomTracking"),x.prototype),x)
e.default=U;(0,s.setComponentTemplate)(E,U)}))
define("messaging/components/conversation-thread-title-text-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component"],(function(e,t,n,i,a,s,r,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,p,m
const u=(0,r.createTemplateFactory)({id:"uW0Jx3mP",block:'[[[11,0],[16,0,[29,["msg-entity-lockup truncate\\n    ",[52,[28,[37,1],[[28,[37,2],[[30,1,["participants"]],"0"],null]],null],"EntityLockup-square-2-company","EntityLockup-circle-2"]]]],[17,2],[12],[1,"\\n  "],[10,"dl"],[14,0,"truncate"],[12],[1,"\\n    "],[10,"dt"],[14,0,"msg-entity-lockup__entity-title-wrapper display-flex"],[12],[1,"\\n"],[1,"      "],[10,"h2"],[14,1,"thread-detail-jump-target"],[14,"data-jump-link-target","thread-detail-jump-target"],[14,"tabindex","-1"],[15,0,[29,["msg-entity-lockup__entity-title truncate pr2\\n          ",[52,[30,3,["isHoverableName"]]," hoverable-link-text"]]]],[12],[1,"\\n        "],[1,[30,3,["title"]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,"dd"],[14,0,"msg-entity-lockup__entity-info t-12 t-black--light t-normal truncate"],[12],[1,"\\n"],[41,[30,4],[[[1,"        "],[1,[28,[35,3],["i18n_reaction_notification","messaging/components/conversation-thread-title-text-presenter"],[["reactorName","emoji"],[[28,[37,4],null,[["firstName","lastName","type"],[[30,4,["reactor","firstName"]],[30,4,["reactor","lastName"]],"familiar"]]],[30,4,["emoji"]]]]]],[1,"\\n"]],[]],[[[41,[30,3,["isGroupChat"]],[[[1,"          "],[1,[30,3,["groupChatSubtitle"]]],[1,"\\n"]],[]],[[[41,[30,3,["hasPresence"]],[[[1,"          "],[10,0],[14,0,"display-flex align-items-center msg-entity-lockup__presence-status"],[12],[1,"\\n"],[41,[30,3,["participants","length"]],[[[1,"              "],[8,[39,5],[[24,0,"msg-entity-lockup__presence-indicator mr2"]],[["@miniProfileUrn","@size","@customTracking"],[[30,3,["participantProfileUrn"]],2,[30,5]]],null],[1,"\\n"],[41,[30,0,["presenceStatus","isOnline"]],[[[1,"                "],[1,[28,[35,3],["i18n_active_now","messaging/components/conversation-thread-title-text-presenter"],null]],[1,"\\n"]],[]],[[[41,[30,0,["presenceStatus","isReachable"]],[[[1,"                "],[1,[52,[30,0,["presenceStatus","lastActiveAt"]],[28,[37,3],["i18n_mobile","messaging/components/conversation-thread-title-text-presenter"],[["date"],[[28,[37,6],[[30,0,["presenceStatus","lastActiveAt"]],"short-ago"],null]]]],[28,[37,3],["i18n_available_on_mobile","messaging/components/conversation-thread-title-text-presenter"],null]]],[1,"\\n"]],[]],[[[1,"                "],[1,[30,3,["participantOccupation"]]],[1,"\\n              "]],[]]]],[]]]],[]],null],[1,"          "],[13],[1,"\\n"]],[]],[[[1,"          "],[1,[30,3,["participantOccupation"]]],[1,"\\n        "]],[]]]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@conversation","&attrs","@viewData","@headerReactionNotification","@customTracking"],false,["if","msg-shared@is-company-profile","get","t","ember-cli-pemberly-i18n@format-name","presence@presence-indicator","global-helpers@time-ago"]]',moduleName:"messaging/components/conversation-thread-title-text-presenter.hbs",isStrictMode:!1})
let g=(d=(0,l.inject)("presence@presence-api-dash"),p=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"presenceAPI",m,this)}get presenceStatus(){return this.presenceAPI.getPresenceStatus((0,o.get)(this.args.viewData,"participantProfileUrn").replace("fs_miniProfile","fsd_profile"))}},m=(0,i.default)(p.prototype,"presenceAPI",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=g;(0,s.setComponentTemplate)(u,g)}))
define.alias("ember-vector-images/components/custom-image","messaging/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","messaging/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","messaging/components/ember-wormhole")
define("messaging/components/interactive-messaging-component-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/service","@ember/object","@glimmer/component","tracked-toolbox","@ember/object/internals","msg-ui/viewdata/sdk-interactive-messaging-component-viewdata","urn-utils","msg-shared/utils/constants","ember-lifeline"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,y,v,_,w,C,x,M,D,S,k,P,T,O,I
const A=(0,r.createTemplateFactory)({id:"tB3dunwB",block:'[[[11,0],[16,1,[30,0,["conversationCardId"]]],[17,1],[12],[1,"\\n  "],[11,0],[24,0,"msg-interactive-messaging-component-container pl3 display-flex align-items-center"],[24,"tabindex","0"],[24,"role","button"],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[41,[30,0,["viewData","images"]],[[[1,"      "],[8,[39,2],[[24,0,"msg-facepile-grid msg-facepile-grid--no-facepile"]],[["@images","@entitySize","@imgWidth","@imgClasses"],[[30,0,["viewData","images"]],4,200,"msg-facepile-grid__img display-flex align-items-center justify-center"]],null],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"msg-selectable-entity"],[12],[1,"\\n        "],[8,[39,3],[[24,0,"EntityPhoto-circle-4"]],[["@desiredWidth","@ghostType"],[200,"person"]],null],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"    "],[10,0],[14,0,"msg-conversation-card__content--selectable"],[12],[1,"\\n      "],[10,0],[14,0,"msg-conversation-card__rows"],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card__row msg-conversation-card__title-row"],[12],[1,"\\n          "],[10,"h3"],[14,0,"msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate pr1 t-16 t-black t-bold"],[12],[1,"\\n"],[41,[30,0,["viewData","title"]],[[[1,"              "],[8,[39,4],null,[["@tvm"],[[30,0,["viewData","title"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,5],["i18n_title_placeholder","messaging/components/interactive-messaging-component-presenter"],null]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-interactive-messaging-component__inbox-shortcuts-placeholder"],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"msg-conversation-card__row msg-conversation-card__body-row"],[12],[1,"\\n          "],[10,0],[14,0,"msg-conversation-card__message-snippet-container flex-grow-1"],[12],[1,"\\n            "],[10,2],[14,0,"msg-conversation-card__message-snippet m0 t-14 t-bold"],[12],[1,"\\n"],[41,[30,0,["viewData","shortText"]],[[[1,"                "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n                  "],[8,[39,4],null,[["@tvm"],[[30,0,["viewData","shortText"]]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[41,[30,0,["viewData","contextText"]],[[[1,"                "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n                  "],[1,[30,0,["viewData","contextText"]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"msg-conversation-listitem__active-text visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,5],["i18n_a11y_active_conversation","messaging/components/interactive-messaging-component-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"msg-interactive-messaging-component__inbox-shortcuts"],[12],[1,"\\n    "],[8,[39,6],null,[["@viewData","@isInboxShortcuts","@creativeUrn","@onDismiss","@interactiveMessagingComponent","@handleSuccessfulDiscardRequest","@isInteractiveMessagingComponent","@reportSuccessToastMessage"],[[30,0,["viewData","conversationHeaderDropdownMenuViewData"]],true,[30,0,["viewData","entityUrn"]],[30,0,["onDismiss"]],[30,2],[30,0,["onDismiss"]],true,"i18n_cs_ads_semaphore_success"]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs","@component"],false,["on","if","image-view-model@image-view-model","ember-vector-images@lazy-image","text-view-model@text-view-model-v2","t","msg-shared-modals@conversation-header-dropdown-menu-presenter"]]',moduleName:"messaging/components/interactive-messaging-component-presenter.hbs",isStrictMode:!1})
let E=(b=(0,l.inject)("authentication@authenticated-user"),y=(0,l.inject)("formatter"),v=(0,l.inject)("i18n"),_=(0,l.inject)("msg-data@data-manager"),w=(0,l.inject)("presence@presence-api-dash"),C=(0,l.inject)("router"),x=(0,l.inject)("msg-spinmail-data@sponsored-action-tracking"),M=class extends d.default{constructor(){super(...arguments);(0,n.default)(this,"conversationCardId",`conversation-card-${(0,m.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",D,this);(0,t.default)(this,"formatter",S,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"msgDataManager",P,this);(0,t.default)(this,"presenceAPI",T,this);(0,t.default)(this,"router",O,this);(0,t.default)(this,"sponsoredActionTracking",I,this)}async _handleOnClick(){const{component:e}=this.args,t=(0,c.get)(e,"renderContent.conversationStarterAd"),n=(0,c.get)(t,"sponsoredTracking")
n&&this.sponsoredActionTracking.fireCSAdsTracking(h.SPONSORED_TRACKING.ACTIONS.CONVERSATION_PREVIEW_CLICK,h.SPONSORED_TRACKING.ACTIONS_CONTROL_NAMES.CONVERSATION_PREVIEW_CLICK,n)
const i=await this.msgDataManager.createSponsoredConversation({participantsList:[(0,c.get)(t,"creativeUrn")],sponsoredConversationSourceType:h.SPONSORED_CONVERSATION_SOURCE_TYPE.MESSAGING_INBOX_PREVIEW_CLICK,adTrackingCode:(0,c.get)(t,"sponsoredTracking.adTrackingCode")})
if((0,o.isDestroying)(this))return
this.msgDataManager.setCsAdCooldownPeriod()
const a=`/messaging/thread/${(0,g.extractEntityInfoFromUrn)(i.data.value.conversationUrn).id}`
this.router.transitionTo(a)
this.msgDataManager.enableFocusedInbox||this.msgDataManager.removeConversationStarterAdPreview()}onClick(){(0,f.debounceTask)(this,"_handleOnClick",500)}onDismiss(e){this.msgDataManager.removeConversationStarterAdPreview()
const t=(0,c.get)(e,"renderContent.conversationStarterAd.sponsoredTracking")
t&&this.sponsoredActionTracking.fireCSAdsTracking(h.SPONSORED_TRACKING.ACTIONS.CONVERSATION_PREVIEW_CLICK_DISMISS,h.SPONSORED_TRACKING.ACTIONS_CONTROL_NAMES.CONVERSATION_PREVIEW_CLICK_DISMISS,t)}get viewData(){return new u.default({authenticatedUserMiniProfile:this.authenticatedUser.miniProfile.content,msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI,model:this.args.component})}},D=(0,i.default)(M.prototype,"authenticatedUser",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(M.prototype,"formatter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(M.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(M.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(M.prototype,"presenceAPI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(M.prototype,"router",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(M.prototype,"sponsoredActionTracking",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(M.prototype,"onClick",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"onClick"),M.prototype),(0,i.default)(M.prototype,"onDismiss",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"onDismiss"),M.prototype),(0,i.default)(M.prototype,"viewData",[p.cached],Object.getOwnPropertyDescriptor(M.prototype,"viewData"),M.prototype),M)
e.default=E;(0,s.setComponentTemplate)(A,E)}))
define.alias("ember-vector-images/components/lazy-background","messaging/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","messaging/components/lazy-image")
define.alias("artdeco-icons-web/components/linkedin-logo","messaging/components/linkedin-logo")
define.alias("ember-media-player/components/media-player","messaging/components/media-player")
define("messaging/components/modals/leave-messaging-alert-modal",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"Oy+elMmO",block:"[[],[],false,[]]",moduleName:"messaging/components/modals/leave-messaging-alert-modal.hbs",isStrictMode:!1})
var s=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=s}))
define("messaging/components/modals/pages-inboxes-modal",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"DMrmcyG0",block:'[[[1,"\\n"],[8,[39,0],null,[["@dismissModal","@isOpen","@size"],[[30,1],[30,2],"medium"]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"pages-inbox-modal"],[14,0,"text-heading-medium"],[12],[1,"\\n      "],[1,[28,[35,1],["page_inboxes","messaging/components/modals/pages-inboxes-modal"],null]],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,4]],null]],null],null,[[[1,"        "],[8,[39,4],null,[["@href","@classNames","@control-name"],[[28,[37,5],[[28,[37,6],[[30,5,["pageMailbox","ownerOrganization","company","entityUrn"]]],null]],null],"msg-pages-inboxes-modal__link display-flex align-items-center justify-space-between pv2 text-heading-medium","member_messaging_inbox_page_inbox_link"]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"display-flex flex-direction-row align-items-center"],[12],[1,"\\n            "],[8,[39,7],[[24,0,"msg-pages-inboxes-modal__organization-image EntityPhoto-square-2"]],[["@image","@alt","@desiredWidth","@ghostType"],[[30,5,["pageMailbox","ownerOrganization","company","logoResolutionResult","vectorImage"]],[28,[37,1],["i18n_image_alt_company","messaging/components/modals/pages-inboxes-modal"],[["companyName"],[[30,5,["pageMailbox","ownerOrganization","company","name"]]]]],40,"company"]],null],[1,"\\n            "],[10,0],[14,0,"msg-pages-inboxes-modal__name"],[12],[1,"\\n              "],[1,[30,5,["pageMailbox","ownerOrganization","company","name"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"],[41,[28,[37,9],[[30,5,["unreadCount"]],0],null],[[[1,"            "],[8,[39,10],[[24,0,"artdeco-notification-badge--new mr1"]],[["@number","@showCount"],[[30,5,["unreadCount"]],true]],[["default"],[[[[1,"\\n"],[1,"            "]],[]]]]],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n"]],[5,6]],null],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@dismissModal","@isOpen","modal","@pagesInboxes","pageInbox","index"],false,["artdeco-modal@artdeco-modal","t","each","-track-array","ember-cli-pemberly-tracking@shared/external-link","messaging@page-inbox-url-builder-from-page-id","global-helpers@urn-to-id","ember-vector-images@lazy-image","if","global-helpers@neq","artdeco-notification-badge@artdeco-notification-badge"]]',moduleName:"messaging/components/modals/pages-inboxes-modal.hbs",isStrictMode:!1})
var s=(0,t.setComponentTemplate)(a,(0,i.default)())
e.default=s}))
define("messaging/components/premium-mailboxes",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/object","@ember/utils","@glimmer/component","@glimmer/tracking","msg-shared/utils/constants","@ember/service","global-utils/utils/url","global-utils/utils/is-browser","voyager-web/config/environment","tracked-toolbox","graphql-queries/queries/messaging/messaging-affiliated-mailboxes.graphql","ember-async-data/tracked-async-data"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b,y,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,w,C,x,M,D,S,k,P,T,O,I,A,E,R,N
const U=(0,r.createTemplateFactory)({id:"Qo9XEDJ1",block:'[[[41,[30,0,["showAffiliatedMailboxes"]],[[[41,[30,0,["hasOnlySinglePagesMailbox"]],[[[42,[28,[37,2],[[28,[37,2],[[30,0,["allAffiliatedMailboxes"]]],null]],null],null,[[[1,"      "],[8,[39,3],null,[["@href","@classNames","@control-name"],[[28,[37,4],[[28,[37,5],[[30,1,["pageMailbox","ownerOrganization","company","entityUrn"]]],null]],null],"msg-premium-mailboxes__link display-flex align-items-center pv2 ph3","member_messaging_inbox_page_inbox_link"]],[["default"],[[[[1,"\\n        "],[8,[39,6],[[24,0,"msg-premium-mailboxes__organization-image EntityPhoto-square-1"]],[["@image","@alt","@desiredWidth","@ghostType"],[[30,1,["pageMailbox","ownerOrganization","company","logoResolutionResult","vectorImage"]],[28,[37,7],["i18n_image_alt_company","messaging/components/premium-mailboxes"],[["companyName"],[[30,1,["pageMailbox","ownerOrganization","company","name"]]]]],32,"company"]],null],[1,"\\n        "],[10,0],[14,0,"msg-premium-mailboxes__page-mailbox-company-name"],[12],[1,"\\n          "],[1,[30,1,["pageMailbox","ownerOrganization","company","name"]]],[1,"\\n        "],[13],[1,"\\n"],[41,[28,[37,8],[[30,1,["unreadCount"]],0],null],[[[1,"          "],[10,0],[14,0,"msg-premium-mailboxes__notification-bubble"],[12],[13],[1,"\\n"]],[]],null],[1,"        "],[1,[28,[35,9],null,[["type","size","class"],["chevron-right","small","msg-premium-mailboxes__pages-chevron"]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[1]],null]],[]],[[[1,"    "],[10,0],[14,0,"msg-premium-mailboxes__pages-inboxes-header text-heading-medium"],[12],[1,"\\n      "],[10,0],[14,0,"msg-premium-mailboxes__pages-inboxes-header-title"],[12],[1,"\\n"],[41,[30,0,["mailboxes","length"]],[[[1,"          "],[1,[28,[35,7],["more_inboxes","messaging/components/premium-mailboxes"],null]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,7],["page_inboxes","messaging/components/premium-mailboxes"],null]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"],[41,[28,[37,8],[[30,0,["pagesAffiliatedMailboxes","value","mailbox","pageMailbox","aggregatedUnreadCount"]],0],null],[[[1,"        "],[10,0],[14,0,"msg-premium-mailboxes__notification-bubble"],[12],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,10],[[24,0,"msg-premium-mailboxes__pages-chevron"]],[["@isOpen","@onVisibilityChange","@placement","@justification"],[[30,0,["isAffiliatedMailboxesDropdownOpen"]],[28,[37,11],[[30,0],"isAffiliatedMailboxesDropdownOpen"],null],"bottom","right"]],[["default"],[[[[1,"\\n        "],[8,[30,2,["dropdown-trigger"]],[[4,[38,12],["affiliated_mailboxes_dropdown_menu"],null]],[["@aria-label","@classNames"],[[28,[37,7],["a11y_affiliated_mailboxes_dropdown_menu","messaging/components/premium-mailboxes"],null],"artdeco-button artdeco-button--1 artdeco-button--circle artdeco-button--tertiary artdeco-button--muted"]],[["default"],[[[[1,"\\n          "],[8,[39,13],null,[["@type","@size","@name"],["system","small","caret"]],null],[1,"\\n        "]],[]]]]],[1,"\\n        "],[8,[30,2,["dropdown-content"]],[[24,0,"msg-premium-mailboxes__affiliated-mailboxes-dropdown-content"]],[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n"],[41,[30,0,["mailboxes","length"]],[[[1,"            "],[10,0],[14,0,"text-heading-medium pv2 ph4"],[12],[1,"\\n              "],[1,[28,[35,7],["page_inboxes","messaging/components/premium-mailboxes"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,0,["allAffiliatedMailboxes"]]],null]],null],null,[[[41,[28,[37,14],[[30,4],[30,0,["maxPageInboxesToShow"]]],null],[[[1,"                "],[8,[39,15],[[24,0,"p0"]],[["@role"],["link"]],[["default"],[[[[1,"\\n                  "],[8,[39,3],null,[["@href","@classNames","@control-name"],[[28,[37,4],[[28,[37,5],[[30,3,["pageMailbox","ownerOrganization","company","entityUrn"]]],null]],null],"msg-premium-mailboxes__link display-flex align-items-center justify-space-between pv2 ph4 text-heading-small","member_messaging_inbox_page_inbox_link"]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex flex-direction-row align-items-center"],[12],[1,"\\n                      "],[8,[39,6],[[24,0,"msg-premium-mailboxes__organization-image EntityPhoto-square-1"]],[["@image","@alt","@desiredWidth","@ghostType"],[[30,3,["pageMailbox","ownerOrganization","company","logoResolutionResult","vectorImage"]],[28,[37,7],["i18n_image_alt_company","messaging/components/premium-mailboxes"],[["companyName"],[[30,3,["pageMailbox","ownerOrganization","company","name"]]]]],32,"company"]],null],[1,"\\n                      "],[10,0],[14,0,"msg-premium-mailboxes__affiliated-mailbox-name msg-premium-mailboxes__page-mailbox-company-name"],[12],[1,"\\n                        "],[1,[30,3,["pageMailbox","ownerOrganization","company","name"]]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"],[41,[28,[37,8],[[30,3,["unreadCount"]],0],null],[[[1,"                      "],[8,[39,16],[[24,0,"artdeco-notification-badge--new mr1"]],[["@number","@showCount"],[[30,3,["unreadCount"]],true]],[["default"],[[[[1,"\\n"],[1,"                      "]],[]]]]],[1,"\\n"]],[]],null],[1,"                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null]],[3,4]],null],[41,[30,0,["pageInboxLengthExceedMaxShown"]],[[[1,"              "],[10,0],[14,0,"full-width ph4 pv2"],[12],[1,"\\n                "],[8,[39,17],[[24,0,"full-width"],[4,[38,12],["show_all_pages_inbox"],null]],[["@type","@color","@text","@click"],["secondary","muted",[28,[37,7],["show_all","messaging/components/premium-mailboxes"],null],[28,[37,11],[[30,0],"showPagesInboxesModal"],null]]],null],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[41,[30,0,["mailboxes","length"]],[[[1,"              "],[10,0],[14,0,"text-heading-medium pv2 ph4"],[12],[1,"\\n                "],[1,[28,[35,7],["other_inboxes","messaging/components/premium-mailboxes"],null]],[1,"\\n              "],[13],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,0,["mailboxes"]]],null]],null],null,[[[1,"                "],[8,[39,15],[[24,0,"p0"]],[["@role"],["link"]],[["default"],[[[[1,"\\n                  "],[8,[39,3],null,[["@href","@classNames","@control-name"],[[30,5,["url"]],"msg-premium-mailboxes__link display-flex align-items-center justify-space-between pv2 ph4 text-heading-small",[30,5,["controlName"]]]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex flex-direction-row align-items-center"],[12],[1,"\\n"],[41,[30,5,["isSalesNavMailbox"]],[[[1,"                        "],[1,[28,[35,9],null,[["type","size"],["app-sales-navigator","large"]]]],[1,"\\n"]],[]],[[[1,"                        "],[1,[28,[35,9],null,[["type","size"],["app-talent-insights","large"]]]],[1,"\\n"]],[]]],[1,"                      "],[10,0],[14,0,"msg-premium-mailboxes__affiliated-mailbox-name msg-premium-mailboxes__affiliated-mailbox-premium-inbox-name"],[12],[1,"\\n                        "],[1,[52,[30,5,["isRecruiterMailbox"]],[28,[37,7],["recruiter_messages_dropdown","messaging/components/premium-mailboxes"],null],[52,[30,5,["isHiringManagerMailbox"]],[28,[37,7],["hiring_manager_messages_dropdown","messaging/components/premium-mailboxes"],null],[52,[30,5,["isJobPostMailbox"]],[28,[37,7],["job_post_messages_dropdown","messaging/components/premium-mailboxes"],null],[28,[37,7],["sales_navigator_messages_dropdown","messaging/components/premium-mailboxes"],null]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,1],[14,0,"msg-premium-mailboxes__external-link-icon ml1 display-flex"],[12],[1,"\\n                        "],[8,[39,13],null,[["@a11yText","@type","@size","@name"],[[28,[37,7],["mailbox_count","messaging/components/premium-mailboxes"],[["count"],[[30,5,["count"]]]]],"system","small","link-external"]],null],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"],[41,[30,5,["count"]],[[[1,"                      "],[8,[39,16],[[24,0,"artdeco-notification-badge--new mr1"]],[["@number","@showCount"],[[30,5,["count"]],true]],[["default"],[[[[1,"\\n"],[1,"                      "]],[]]]]],[1,"\\n"]],[]],null],[1,"                  "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n"]],[5,6]],null]],[]],null],[1,"          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[2]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["mailboxes","length"]],[[[1,"    "],[11,0],[17,7],[12],[1,"\\n      "],[10,"ul"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,0,["mailboxes"]]],null]],null],null,[[[1,"          "],[10,"li"],[15,0,[29,["msg-premium-mailboxes__mailbox msg-premium-mailboxes__mailbox--",[30,8,["controlName"]]]]],[12],[1,"\\n            "],[8,[39,3],null,[["@href","@classNames","@control-name","@target"],[[30,8,["url"]],"msg-premium-mailboxes__link display-flex align-items-center pv4 ph3",[30,8,["controlName"]],"_blank"]],[["default"],[[[[1,"\\n              "],[1,[52,[30,8,["isRecruiterMailbox"]],[28,[37,7],["recruiter_messages","messaging/components/premium-mailboxes"],null],[52,[30,8,["isHiringManagerMailbox"]],[28,[37,7],["hiring_manager_messages","messaging/components/premium-mailboxes"],null],[52,[30,8,["isJobPostMailbox"]],[28,[37,7],["job_post_messages","messaging/components/premium-mailboxes"],null],[28,[37,7],["sales_navigator_messages","messaging/components/premium-mailboxes"],null]]]]],[1,"\\n              "],[10,1],[14,0,"msg-premium-mailboxes__external-link-icon ml1 display-flex"],[12],[1,"\\n                "],[8,[39,13],null,[["@a11yText","@type","@size","@name"],[[28,[37,7],["mailbox_count","messaging/components/premium-mailboxes"],[["count"],[[30,8,["count"]]]]],"system","small","link-external"]],null],[1,"\\n              "],[13],[1,"\\n"],[41,[30,8,["count"]],[[[1,"                "],[8,[39,16],[[24,0,"msg-premium-mailboxes__unread-count artdeco-notification-badge--new pl2"]],[["@number","@showCount"],[[30,8,["count"]],true]],[["default"],[[[[1,"\\n"],[1,"                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n"]],[8]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["showAffiliatedMailboxes"]],[[[1,"  "],[8,[39,18],null,[["@dismissModal","@isOpen","@pagesInboxes"],[[28,[37,11],[[30,0],"showPagesInboxesModal",false],null],[30,0,["showPagesInboxesModal"]],[30,0,["allAffiliatedMailboxes"]]]],null],[1,"\\n"]],[]],null]],["singlePageMailbox","dropdown","affiliatedPageMailbox","pageMailboxIndex","mailbox","mailboxIndex","&attrs","mailbox"],false,["if","each","-track-array","ember-cli-pemberly-tracking@shared/external-link","messaging@page-inbox-url-builder-from-page-id","global-helpers@urn-to-id","ember-vector-images@lazy-image","t","global-helpers@neq","artdeco-icons-web@li-icon","artdeco-dropdown@artdeco-dropdown","ember-set-helper@set","ember-cli-pemberly-tracking@track-interaction","hue-web-icons@icon","messaging@is-page-inbox-within-max-page-inboxes-displayed","artdeco-dropdown@artdeco-dropdown-item","artdeco-notification-badge@artdeco-notification-badge","artdeco-button@artdeco-button","messaging@modals/pages-inboxes-modal"]]',moduleName:"messaging/components/premium-mailboxes.hbs",isStrictMode:!1}),{MAILBOX_URLS:j,CONTROL_NAMES:{MAILBOXES:L}}=m.default
let z=(_=(0,u.inject)("authentication@authenticated-user"),w=(0,u.inject)("lix"),C=(0,u.inject)("msg-data@data-manager"),x=(0,u.inject)("store"),M=(0,u.inject)("tracking"),D=(0,u.inject)("@linkedin/ember-restli-graphql@graphql"),S=class extends d.default{get pagesAffiliatedMailboxes(){return this._fetchPagesAffiliatedMailboxes()}constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",k,this);(0,t.default)(this,"lix",P,this);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"store",O,this);(0,t.default)(this,"tracking",I,this);(0,t.default)(this,"graphql",A,this);(0,t.default)(this,"mailboxes",E,this);(0,t.default)(this,"isAffiliatedMailboxesDropdownOpen",R,this);(0,t.default)(this,"showPagesInboxesModal",N,this)
const e=this.lix.getTreatmentIsEnabled("voyager.infra.api.show-post-job"),n="urn:li:fsd_featureAccess:CAN_ACCESS_SALES_NAV_ENTRY_POINT",i="urn:li:fsd_featureAccess:CAN_ACCESS_RECRUITER_MAILBOX",a="urn:li:fsd_featureAccess:CAN_ACCESS_HIRING_MANAGER_MAILBOX"
this.store.queryURL(`/${f.default.namespace}/voyagerPremiumDashFeatureAccess`,{params:{ids:[n,i,a]}}).then((t=>{if((0,o.isDestroying)(this))return
const s=(0,l.get)(t,`results.${n}.hasAccess`),r=(0,l.get)(t,`results.${i}.hasAccess`),d=(0,l.get)(t,`results.${a}.hasAccess`);(s||r||d||e)&&this.msgDataManager.fetchMailBoxUnreadCounts().then((t=>{if(this.isDestroying)return
const n=(0,l.get)(t,"recruiterMailboxUnreadCounts"),i=(0,c.isPresent)(n),a=(0,c.isPresent)((0,l.get)(t,"salesMailboxUnreadCounts")),s=e&&!r
if(i||a||d||s){const e=this.tracking,{pageUrn:t,trackingId:r}=e.getCurrentPageInstance(),o={trk:e.getCurrentPageKey(),lipi:`${encodeURIComponent(t)};${h.default?window.btoa(r):""}`}
if(d){const t=L.HIRING_MANAGER
o.licu=e.generateControlUrn(t)
this.mailboxes.pushObject({controlName:t,count:0,isHiringManagerMailbox:!0,url:(0,g.addQueryParamsFromSnapshot)(j.RECRUITER,{adapterOptions:{query:o}})})}else if(i&&s){const t=L.JOB_POST
o.licu=e.generateControlUrn(t)
this.mailboxes.pushObject({controlName:t,count:n,isJobPostMailbox:!0,url:(0,g.addQueryParamsFromSnapshot)(j.RECRUITER,{adapterOptions:{query:o}})})}else if(i){const t=L.RECRUITER
o.licu=e.generateControlUrn(t)
this.mailboxes.pushObject({controlName:t,count:n,isRecruiterMailbox:!0,url:(0,g.addQueryParamsFromSnapshot)(j.RECRUITER,{adapterOptions:{query:o}})})}if(a){const t=L.SALES_NAV
o.licu=e.generateControlUrn(t)
this.mailboxes.pushObject({controlName:t,count:0,isSalesNavMailbox:!0,url:(0,g.addQueryParamsFromSnapshot)(j.SALES_NAV,{adapterOptions:{query:o}})})}}})).catch((()=>{}))}))}get showAffiliatedMailboxes(){return this.pagesAffiliatedMailboxes.isResolved&&this.allAffiliatedMailboxes.length>0}get allAffiliatedMailboxes(){return(0,l.get)(this.pagesAffiliatedMailboxes.value,"mailbox.pageMailbox.pageMailboxes")??[]}get hasOnlySinglePagesMailbox(){return 1===this.allAffiliatedMailboxes.length&&!this.mailboxes.length}get maxPageInboxesToShow(){return this.mailboxes.length?3:6}get pageInboxLengthExceedMaxShown(){return this.allAffiliatedMailboxes.length>this.maxPageInboxesToShow}_fetchPagesAffiliatedMailboxes(){return new v.default(this.graphql.executeQuery(y.default).then((e=>{if((0,o.isDestroying)(this))return
return(0,l.get)(e,"data.messagingDashAffiliatedMailboxesAll.elements").find((e=>(0,l.get)(e,"mailbox.pageMailbox")))??[]})))}},k=(0,i.default)(S.prototype,"authenticatedUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(S.prototype,"lix",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(S.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(S.prototype,"store",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(S.prototype,"tracking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(S.prototype,"graphql",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(S.prototype,"mailboxes",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=(0,i.default)(S.prototype,"isAffiliatedMailboxesDropdownOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,i.default)(S.prototype,"showPagesInboxesModal",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(S.prototype,"pagesAffiliatedMailboxes",[b.cached],Object.getOwnPropertyDescriptor(S.prototype,"pagesAffiliatedMailboxes"),S.prototype),S)
e.default=z;(0,s.setComponentTemplate)(U,z)}))
define("messaging/components/search-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/object","@glimmer/component","@ember/service","msg-shared/utils/constants","@glimmer/tracking"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,g,h,f,b,y,v,_,w
const C=(0,r.createTemplateFactory)({id:"4/Djr3OM",block:'[[[1,"\\n"],[1,"\\n"],[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@tagName","@class","@bemPrefix"],["heading","msg-search-form","msg-search-form"]],[["default"],[[[[1,"\\n    "],[10,"label"],[14,"for","search-conversations"],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_search_query_placeholder","messaging/components/search-form"],null]],[1,"\\n    "],[13],[1,"\\n    "],[8,[39,3],[[24,3,"searchTerm"],[24,1,"search-conversations"],[24,0,"msg-search-form__search-field t-14 t-black t-normal"],[16,"placeholder",[28,[37,2],["i18n_search_query_placeholder","messaging/components/search-form"],null]],[24,"autocomplete","off"]],[["@type","@value","@enter"],["search",[30,2],[30,3]]],null],[1,"\\n"],[41,[30,4],[[[1,"      "],[8,[39,4],null,[["@size","@class"],["xsmall","msg-search-form__search-loader"]],null],[1,"\\n"]],[]],[[[1,"      "],[10,1],[14,0,"msg-search-form__search-icon"],[12],[1,"\\n        "],[8,[39,5],null,[["@type","@size","@name"],["system","small","search"]],null],[1,"\\n      "],[13],[1,"\\n"]],[]]],[41,[30,5],[[[1,"      "],[8,[39,6],null,[["@type","@color","@circle","@icon","@class","@click","@text","@size"],["tertiary","muted",true,"close","msg-search-form__cancel-search",[30,6],[28,[37,2],["i18n_cancel_search","messaging/components/search-form"],null],1]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,7],null,[["@classNames","@isOpen","@onVisibilityChange","@placement","@justification"],["msg-search-form__choose-filters",[30,7],[30,8],"bottom","right"]],[["default"],[[[[1,"\\n"],[41,[30,0,["showTooltip"]],[[[1,"          "],[8,[39,8],null,[["@on","@placement"],["init","bottom"]],[["default"],[[[[1,"\\n            "],[8,[30,9,["dropdown-trigger"]],[[24,0,"artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted artdeco-button--1"],[4,[38,9],["filter_messages_by"],null]],[["@onClick"],[[30,0,["openConvoFiltersDropdown"]]]],[["default"],[[[[1,"\\n              "],[1,[28,[35,10],null,[["type","a11y-text","class","size"],["filter-icon",[28,[37,2],["i18n_filter_messages","messaging/components/search-form"],null],"artdeco-button__icon","small"]]]],[1,"\\n            "]],[]]]]],[1,"\\n            "],[8,[30,10,["artdeco-hoverable-content"]],null,[["@contentClass"],["msg-search-form__tooltip"]],[["default"],[[[[1,"\\n              "],[1,[28,[35,2],["i18n_archived_message_ads","messaging/components/search-form"],null]],[1,"\\n              "],[10,3],[14,0,"inverse-link"],[14,6,"/help/linkedin/answer/119206"],[14,"rel","noopener noreferrer"],[14,"target","_blank"],[12],[1,"\\n                "],[1,[28,[35,2],["i18n_learn_more","messaging/components/search-form"],null]],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[10]]]]],[1,"\\n"]],[]],[[[1,"          "],[8,[30,9,["dropdown-trigger"]],[[24,0,"artdeco-button artdeco-button--tertiary artdeco-button--1 artdeco-button--circle artdeco-button--muted"],[4,[38,9],["filter_messages_by"],null]],[["@onClick"],[[30,0,["openConvoFiltersDropdown"]]]],[["default"],[[[[1,"\\n            "],[1,[28,[35,10],null,[["type","a11y-text","class","size"],["filter-icon",[28,[37,2],["i18n_filter_messages","messaging/components/search-form"],null],"artdeco-button__icon","small"]]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]]],[1,"        "],[8,[30,9,["dropdown-content"]],null,null,[["default"],[[[[1,"\\n          "],[10,"ul"],[12],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["all_mesages_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],""],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_all_messages","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["archived_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"ARCHIVED"],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_archived","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["my_connections_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"CONNECTIONS"],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_connections","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],null,[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"STARRED"],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_starred","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["unread_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"UNREAD"],null],"button"]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"display-flex align-items-center justify-space-between"],[12],[1,"\\n                  "],[10,1],[12],[1,"\\n                    "],[1,[28,[35,2],["i18n_unread","messaging/components/search-form"],null]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["inmail_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"INMAIL"],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_inmail","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[39,11],[[4,[38,9],["blocked_filter"],null]],[["@classNames","@itemSelected","@role"],["msg-search-form__filter",[28,[37,12],[[30,11],"BLOCKED"],null],"button"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,2],["i18n_spam","messaging/components/search-form"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[9]]]]],[1,"\\n"]],[]]],[1,"  "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showSelectedFilter"]],[[[1,"  "],[8,[39,13],null,[["@clearFilter","@currentFilter","@disabled","@loadedUnreadConversations"],[[30,12],[30,13],[30,14],[30,15]]],null],[1,"\\n"]],[]],null]],["@showSearchInput","@inputSearchTerm","@searchConversations","@isSearchLoading","@hasActiveSearch","@clearActiveSearch","@isFiltersDropdownOpen","@toggleConvoFiltersDropdown","dropdown","trigger","@setFilter","@clearFilters","@filter","@isBulkActionsMode","@loadedUnreadConversations"],false,["if","title-bar@title-bar","t","input","artdeco-loader@artdeco-loader","hue-web-icons@icon","artdeco-button@artdeco-button","artdeco-dropdown@artdeco-dropdown","artdeco-hoverables@artdeco-hoverable-trigger","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon","artdeco-dropdown@artdeco-dropdown-item","fn","msg-ui@selected-filter-presenter"]]',moduleName:"messaging/components/search-form.hbs",isStrictMode:!1}),{MESSAGE_REQUEST_FILTER:x}=p.default
let M=(u=(0,d.inject)("lego@resolver"),g=(0,d.inject)("lego@tracking"),h=(0,d.inject)("lix"),f=class extends c.default{get showSelectedFilter(){return this.args.filter&&this.args.filter!==x.PENDING&&this.args.filter!==x.DECLINED}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",b,this);(0,t.default)(this,"legoTracking",y,this);(0,t.default)(this,"lix",v,this);(0,t.default)(this,"isFiltersDropdownOpen",_,this);(0,t.default)(this,"showTooltip",w,this)
this._fetchLegoWidgetForTooltip()}async _fetchLegoWidgetForTooltip(){const e=await this.legoResolver.fireLegoCall({pageKey:"messaging_spinmail_archive",slotId:"archive",groupId:"messaging_spinmail_archive",widgetId:"messaging_spinmail_archive"},!0)
if(!(0,o.isDestroying)(this)&&e){this.showTooltip=!0
this.legoTracking.sendLegoImpression(e.trackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}openConvoFiltersDropdown(){this.args.toggleConvoFiltersDropdown(!0)}},b=(0,i.default)(f.prototype,"legoResolver",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(f.prototype,"legoTracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(f.prototype,"lix",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(f.prototype,"isFiltersDropdownOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,i.default)(f.prototype,"showTooltip",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(f.prototype,"openConvoFiltersDropdown",[l.action],Object.getOwnPropertyDescriptor(f.prototype,"openConvoFiltersDropdown"),f.prototype),f)
e.default=M;(0,s.setComponentTemplate)(C,M)}))
define("messaging/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="messaging/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define("messaging/controllers/application",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","msg-shared/utils/constants","msg-shared/utils/custom-tracking","rsvp","@ember/object","@ember/controller","global-utils/utils/is-browser","email-confirmation/utils/email-confirmation-helpers","gdpr-notice/utils/notice-constants","ember-lifeline","@glimmer/tracking","global-utils/utils/a11y-focus-element","msg-shared/utils/get-participant-presence-statuses","ember-test-waiters","@ember/runloop","msg-shared/utils/sdk-view-data-helpers","msg-data/utils/urn-id-helpers"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b,y,v,_,w,C){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var x,M,D,S,k,P,T,O,I,A,E,R,N,U,j,L,z,F,q,B,V,K,H,G,W,Y,Q,$,X,J,Z,ee,te,ne,ie,ae,se,re
const{CONTROL_NAMES:oe,ACTION_TYPES:{ARCHIVE:le,UNARCHIVE:ce},KINDNESS_REMINDER_LEGO:de,INBOX_TYPES:pe,SPONSORED_TRACKING:{ACTIONS:me},CONVERSATIONS_PER_PAGE:ue,CONVERSATIONS_DEFAULT_FETCH_SIZE:ge,MESSAGE_REQUEST_FILTER:he,PAGEVIEW_KEYS:{CONVERSATION_LIST:fe},MESSAGE_COLLECTION_TYPES:{MESSAGE_REQUEST_PENDING:be},INITIAL_CONVERSATION_LS_KEY:ye}=o.default,ve=(0,v.buildWaiter)("messaging:application:load-more")
let _e=(x=(0,r.inject)("global-services@local-storage"),M=(0,r.inject)("lix"),D=(0,r.inject)("store"),S=(0,r.inject)("router"),k=(0,r.inject)("tracking"),P=(0,r.inject)("jet"),T=(0,r.inject)("msg-data@data-manager"),O=(0,r.inject)("search-services@search-tracking-v2"),I=(0,r.inject)("global-services@window"),A=(0,r.inject)("scaffold-layout@list-detail"),E=(0,r.inject)("global-services@a11y-notification"),R=(0,r.inject)("i18n"),N=(0,r.inject)("msg-spinmail-data@sponsored-action-tracking"),U=(0,r.inject)("msg-cross-pillar@messaging-user-settings"),j=class extends p.default{get hasActiveSearch(){return this.inputSearchTerm&&this.inputSearchTerm.trim().length}get showMessageRequestList(){return this.showPendingMessageRequestList||this.showDeclinedMessageRequestList}get hasUnseenSecondaryConversations(){return!!this.enableFocusedInbox&&null!==this.msgDataManager.inboxManager.secondaryPreviewBannerData}get shouldShowSecondaryPreviewBanner(){return this.hasUnseenSecondaryConversations&&!this.hasActiveSearch&&(!this.selectedFilter||"MR"===this.selectedFilter)&&"PRIMARY"===this.inboxType}get canInfiniteScroll(){return!this._getMailboxState().status.fullyLoaded&&!this.loadMoreError}get showMessageRequestInboxInHeaderDropdown(){return!this.showMessageRequestList}get showSearchInput(){return!this.isBulkActionsMode}get showMessageRequestBanner(){return!this.enableFocusedInbox&&this.unreadPendingMessageRequestCount>0&&!this.selectedFilter}get headerText(){return this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_message_request_count")([{count:this.unreadPendingMessageRequestCount}])}get unreadPendingMessageRequestCount(){var e
return null===(e=this.msgDataManager.getMailboxState())||void 0===e?void 0:e.unreadCounts[be]}get showFocusedInboxTabs(){return this.enableFocusedInbox&&!this.hasActiveSearch&&(!this.selectedFilter||"MR"===this.selectedFilter)}get showPendingMessageRequestList(){return this.selectedFilter===he.PENDING}get showDeclinedMessageRequestList(){return this.selectedFilter===he.DECLINED}get isLoadingInitialConversations(){return this._getMailboxState().status.loading}get continuousConversations(){var e
const t=null===(e=this._getMailboxState())||void 0===e?void 0:e.conversations.map((e=>e))
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-starter-ads")){const e=(0,w.getConversationStarterAdPreview)(this.msgDataManager)
return(0,w.generateConversationListWithConversationStarterAdPreview)({conversationStarterAdPreview:e,conversations:t,mailboxName:this.model.mailboxName,inboxType:this.inboxType})}return t}get loadedUnreadConversations(){var e
return(null===(e=this.continuousConversations)||void 0===e?void 0:e.filter((e=>!(0,d.get)(e,"read"))))??[]}get isSearching(){return void 0!==this.inputSearchTerm||void 0!==this.selectedFilter}get enableFocusedInboxLix(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-experience")}get enableFocusedInbox(){return!!this.enableFocusedInboxLix&&(!this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-opt-in")||!!this.userSettings.focusedInboxEnabled)}get showFocusedInboxBanner(){return this.enableFocusedInboxLix&&!this.isSearching}get showKindnessReminder(){return!this.kindnessReminderShown&&!this.isSearching}get showMarkingAllReadLoader(){return this.msgDataManager.progressIndicatorState.markAllReadIndicator&&(!this.selectedFilter||"UNREAD"===this.selectedFilter)}get hideConversationsList(){return"UNREAD"===this.selectedFilter&&this.showMarkingAllReadLoader||this.showInboxLoader}get showPremiumUpsell(){if(this.msgDataManager.isPremiumUpsellEnabled){var e
let t=(0,d.get)(this,"model.initConversationLength")
this.localStorage.getItem(ye)||this.localStorage.setItem(ye,t)
t=this.localStorage.getItem(ye)??null
const n=(null===(e=this.continuousConversations)||void 0===e?void 0:e.length)<4||t<4,i=!this.enableFocusedInbox||this.inboxType===pe.PRIMARY
return this.model.upsellCard&&n&&i}return!1}get shouldScrollConversationListToTop(){const e=(0,d.get)(this,"model.collection"),t=e!==this._previousConversationCollection
this._previousConversationCollection=e
return t}get selectedInboxType(){return this.model&&(0,d.get)(this.model,"inboxType")?(0,d.get)(this.model,"inboxType"):this.inboxType}constructor(){super(...arguments);(0,t.default)(this,"localStorage",L,this);(0,t.default)(this,"lix",z,this);(0,t.default)(this,"store",F,this);(0,t.default)(this,"router",q,this);(0,t.default)(this,"tracking",B,this);(0,t.default)(this,"jet",V,this);(0,t.default)(this,"msgDataManager",K,this);(0,t.default)(this,"searchTrackingV2",H,this);(0,t.default)(this,"windowService",G,this);(0,t.default)(this,"listDetail",W,this);(0,t.default)(this,"a11yNotification",Y,this);(0,t.default)(this,"i18n",Q,this);(0,t.default)(this,"sponsoredActionTracking",$,this);(0,t.default)(this,"userSettings",X,this);(0,n.default)(this,"queryParams",["searchTerm","filter","inboxType"]);(0,t.default)(this,"isFiltersDropdownOpen",J,this);(0,t.default)(this,"loadMoreError",Z,this);(0,t.default)(this,"inboxType",ee,this);(0,t.default)(this,"inputSearchTerm",te,this);(0,t.default)(this,"selectedFilter",ne,this);(0,t.default)(this,"selectedConversationUrns",ie,this);(0,t.default)(this,"isBulkActionsMode",ae,this);(0,t.default)(this,"showInboxLoader",se,this);(0,n.default)(this,"spinMailAdUnit",null);(0,n.default)(this,"showConfirmationModalOnRender",!0);(0,n.default)(this,"isHeaderDropdownMenuOpen",!1);(0,n.default)(this,"conversationQuery",void 0);(0,n.default)(this,"kindnessReminderLegoConfig",de);(0,n.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"hasMorePendingMessageRequestToLoad",!0);(0,n.default)(this,"isLoadingMore",!1);(0,n.default)(this,"isSearchLoading",!1);(0,t.default)(this,"kindnessReminderShown",re,this);(0,n.default)(this,"_previousConversationCollection",null);(0,d.setProperties)(this,{gdprNoticeTypes:[g.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL,g.GDPR_NOTICE_POLICY_TYPE.SMART_REPLIES],selectedConversations:[],pageSize:ue,pageKeys:{conversationList:{scrollPageKey:"flagship3_messaging_conversation_list_scroll"}}})
this.userSettings.onFocusedInboxOptOut(this.setInboxType)}_updateQueryParams(e){const t={searchTerm:this.searchTerm,filter:this.selectedFilter,inboxType:this.inboxType}
Object.assign(t,e);(t.searchTerm||t.filter)&&(t.inboxType=void 0)
return this.router.transitionTo({queryParams:t})}_searchConversations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
if(e.trim()!==this.searchTerm&&(e.trim()||this.searchTerm)){this.tracking.fireInteractionEvent("search_box","KEYBOARD_SUBMIT")
this.isSearchLoading=!0
this._updateQueryParams({searchTerm:e})}}_cancelDebounce(){try{(0,h.cancelDebounce)(this,"_searchConversations")}catch(e){}}_getMailboxState(){return this.msgDataManager.getMailboxState(this.model.mailboxName)}openPendingMessageRequestList(){this.setFilter(he.PENDING)
this.transitionToRoute({queryParams:{filter:he.PENDING}})}openDeclinedMessageRequestConversationList(){this.setFilter(he.DECLINED)
this.transitionToRoute({queryParams:{filter:he.DECLINED}})}backToInboxFromMessageRequestList(){this.setFilter("")}openAwayMessageSettingsModal(e){null==e||e.stopPropagation();(0,d.set)(this,"awayMessageSettingsModalIsOpen",!0)}openManageSettings(e){null==e||e.stopPropagation()
this.windowService.open("/psettings/privacy","_blank")}searchConversations(e){this._cancelDebounce()
this._searchConversations(e)}clearActiveSearch(){this._cancelDebounce();(0,d.set)(this,"inputSearchTerm",void 0)
this._searchConversations()}loadMore(){if(this.isLoadingMore&&!this.lazyLoadConversations)return(0,c.resolve)([]);(0,d.setProperties)(this,{isLoadingMore:!0,lazyLoadConversations:!1,hasMorePendingMessageRequestToLoad:!0,loadMoreError:!1})
const e=ve.beginAsync()
return this.msgDataManager.getMailbox(this.model.mailboxName).then((t=>{if(!(0,s.isDestroying)(this))return t.loadOlderConversations().then((e=>{if((0,s.isDestroying)(this))return
this.showPendingMessageRequestList&&(0,d.set)(this,"hasMorePendingMessageRequestToLoad",e===ge)
this.firePageViewTracking("conversation-list","d_flagship3_messaging_conversation_list_scroll")
const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(t([{newRecordCount:e}]))
return e})).catch((e=>{if((0,s.isDestroying)(this))throw e
this.loadMoreError=!0
throw e})).finally((()=>{ve.endAsync(e)
this.isDestroying||(0,d.set)(this,"isLoadingMore",!1)}))}))}setFilter(e){(0,d.set)(this,"isBulkActionsMode",!1);(0,d.set)(this,"selectedFilter",e)
this._updateQueryParams({filter:e})
this.toggleConvoFiltersDropdown(!1)}setInboxType(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,d.set)(this,"isBulkActionsMode",!1)
!0!==t&&this.inboxType===e||this._updateQueryParams({inboxType:e})
this.toggleConvoFiltersDropdown(!1)
"SECONDARY"===e&&this.msgDataManager.inboxManager.markSecondaryInboxAsSeen()
const n="PRIMARY"===e?"flagship3_messaging_primary_tab":"flagship3_messaging_secondary_tab"
this.tracking.firePageViewEvent(n)}onInsert(){this.firePageViewTracking("conversation-list")}firePageViewTracking(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe
const n=this.router.currentRouteName
"conversation-list"===e&&["messaging.thread","messaging.index"].includes(n)&&((0,d.get)(this,"continuousConversations.length")?this.tracking.firePageViewEvent(t):this.isSearching&&this.tracking.firePageViewEvent("flagship3_messaging_search_no_results"))}checkForUnconfirmedEmail(){this.showConfirmationModalOnRender&&(0,u.getConfirmationModalData)(this.store).then((e=>{this.isDestroying||(e&&!e.isEmailConfirmed?(0,d.setProperties)(this,new u.ModalConfig(e)):this.showConfirmationModalOnRender=!1)}))}resendConfirmationEmail(){return this.store.adapterFor("-ember-m3").ajax(...(0,u.resendHandleConfirmationRequest)((0,d.get)(this,`${u.MODAL_CONTEXT_PROP}.emailAddress`)))}spinMailAdClicked(){var e
const t=(0,d.get)(this,"spinMailAdUnit.adUnit.adUnitTracking"),n=null===(e=document.querySelector('meta[name="serviceVersion"]'))||void 0===e?void 0:e.content,i=new URL(t).searchParams.get("adTrk")
this.sponsoredActionTracking.fireConversationTracking(t,me.BANNER_CLICK,{adTrackingCode:i,version:n},"click_banner_image")}loadCustomSpinMailAd(e){(0,d.set)(this,"spinMailAdUnit",e)}afterRemovingConversation(e){const{conversationId:t}=(0,C.extractMailboxAndConversationId)(e)
this.send("redirectOnActiveConversationAction",t)}toggleConversationArchiveState(e){return this.msgDataManager.toggleConversationArchive((0,d.get)(e,"entityUrn"),!(0,d.get)(e,"archived")).then((t=>{if((0,s.isDestroying)(this))return
const n=(0,d.get)(e,"archived"),i=n?oe.ACTIONS.ARCHIVE:oe.ACTIONS.UNARCHIVE,a=n?le:ce
l.default.fireDetailActionEvent({actionType:a,controlName:i,conversationObjectUrn:(0,d.get)(e,"backendUrn"),participantUrns:l.default.getParticipantTrackingUrns((0,d.get)(e,"participants")),participantPresenceStatuses:(0,y.getParticipantPresenceStatuses)(e),trackingService:this.tracking})
return t})).then((t=>{if(!(0,s.isDestroying)(this)){this.send("redirectOnActiveConversationAction",(0,d.get)(e,"id"))
return t}}))}onOpenDetailClick(){this.listDetail.setDetailActive(!0)}enterBulkActionsMode(){(0,d.setProperties)(this,{isBulkActionsMode:!0,isHeaderDropdownMenuOpen:!1});(0,b.default)(this,"#msg-bulk-actions-panel-presenter-close-button")}onSelectableEntityClick(e){this._toggleConversationSelected(e)
const t=this.continuousConversations.filter((e=>this.selectedConversationUrns.includes((0,d.get)(e,"entityUrn"))));(0,d.set)(this,"selectedConversations",t)
const n=this.selectedConversationUrns.includes(e)?"bulk_select_conversation":"bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)
!this.isBulkActionsMode&&t.length>0?(0,d.set)(this,"isBulkActionsMode",!0):0===t.length&&(0,d.set)(this,"isBulkActionsMode",!1)}_toggleConversationSelected(e){if(0===this.selectedConversationUrns.length)this.selectedConversationUrns=[e]
else{const t=this.selectedConversationUrns.includes(e)
this.selectedConversationUrns=t?this.selectedConversationUrns.filter((t=>t!==e)):this.selectedConversationUrns.concat(e)}}fireSearchActionEventTrackingByUrn(){}onExitBulkActionsMode(){(0,d.setProperties)(this,{selectedConversations:[],selectedConversationUrns:[],isBulkActionsMode:!1})}willExecuteBulkAction(){(0,d.setProperties)(this,{dataLoaded:!1,isBulkActionsMode:!1})}didExecuteBulkAction(e){if("delete"===e){const e=this.continuousConversations.find((e=>!(0,d.get)(e,"checked")))
this.send("redirectToThread",e?(0,d.get)(e,"id"):void 0)}(0,d.set)(this,"dataLoaded",!0)}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("open_kindness_learn_more")
if(m.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}onDismissKindessOnboardingWidget(){this.tracking.fireInteractionEvent("dismiss_kindness_banner");(0,d.set)(this,"kindnessReminderShown",!0)}toggleConvoFiltersDropdown(e){this.isFiltersDropdownOpen=void 0!==e?e:!this.isFiltersDropdownOpen}setLoader(){this.showInboxLoader=!0;(0,_.later)((()=>{this.showInboxLoader=!1}),500)}},L=(0,i.default)(j.prototype,"localStorage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(j.prototype,"lix",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(j.prototype,"store",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,i.default)(j.prototype,"router",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(j.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(j.prototype,"jet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(j.prototype,"msgDataManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(j.prototype,"searchTrackingV2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(j.prototype,"windowService",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(j.prototype,"listDetail",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(j.prototype,"a11yNotification",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,i.default)(j.prototype,"i18n",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(j.prototype,"sponsoredActionTracking",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,i.default)(j.prototype,"userSettings",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,i.default)(j.prototype,"isFiltersDropdownOpen",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=(0,i.default)(j.prototype,"loadMoreError",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=(0,i.default)(j.prototype,"inboxType",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.PRIMARY}}),te=(0,i.default)(j.prototype,"inputSearchTerm",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.searchTerm}}),ne=(0,i.default)(j.prototype,"selectedFilter",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.filter}}),ie=(0,i.default)(j.prototype,"selectedConversationUrns",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=(0,i.default)(j.prototype,"isBulkActionsMode",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=(0,i.default)(j.prototype,"showInboxLoader",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=(0,i.default)(j.prototype,"kindnessReminderShown",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(j.prototype,"openPendingMessageRequestList",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"openPendingMessageRequestList"),j.prototype),(0,i.default)(j.prototype,"openDeclinedMessageRequestConversationList",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"openDeclinedMessageRequestConversationList"),j.prototype),(0,i.default)(j.prototype,"backToInboxFromMessageRequestList",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"backToInboxFromMessageRequestList"),j.prototype),(0,i.default)(j.prototype,"openAwayMessageSettingsModal",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"openAwayMessageSettingsModal"),j.prototype),(0,i.default)(j.prototype,"openManageSettings",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"openManageSettings"),j.prototype),(0,i.default)(j.prototype,"searchConversations",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"searchConversations"),j.prototype),(0,i.default)(j.prototype,"clearActiveSearch",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"clearActiveSearch"),j.prototype),(0,i.default)(j.prototype,"loadMore",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"loadMore"),j.prototype),(0,i.default)(j.prototype,"setFilter",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"setFilter"),j.prototype),(0,i.default)(j.prototype,"setInboxType",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"setInboxType"),j.prototype),(0,i.default)(j.prototype,"onInsert",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"onInsert"),j.prototype),(0,i.default)(j.prototype,"firePageViewTracking",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"firePageViewTracking"),j.prototype),(0,i.default)(j.prototype,"resendConfirmationEmail",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"resendConfirmationEmail"),j.prototype),(0,i.default)(j.prototype,"spinMailAdClicked",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"spinMailAdClicked"),j.prototype),(0,i.default)(j.prototype,"loadCustomSpinMailAd",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"loadCustomSpinMailAd"),j.prototype),(0,i.default)(j.prototype,"afterRemovingConversation",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"afterRemovingConversation"),j.prototype),(0,i.default)(j.prototype,"toggleConversationArchiveState",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"toggleConversationArchiveState"),j.prototype),(0,i.default)(j.prototype,"onOpenDetailClick",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"onOpenDetailClick"),j.prototype),(0,i.default)(j.prototype,"enterBulkActionsMode",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"enterBulkActionsMode"),j.prototype),(0,i.default)(j.prototype,"onSelectableEntityClick",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"onSelectableEntityClick"),j.prototype),(0,i.default)(j.prototype,"fireSearchActionEventTrackingByUrn",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"fireSearchActionEventTrackingByUrn"),j.prototype),(0,i.default)(j.prototype,"onExitBulkActionsMode",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"onExitBulkActionsMode"),j.prototype),(0,i.default)(j.prototype,"willExecuteBulkAction",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"willExecuteBulkAction"),j.prototype),(0,i.default)(j.prototype,"didExecuteBulkAction",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"didExecuteBulkAction"),j.prototype),(0,i.default)(j.prototype,"impressionKindnessReminder",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"impressionKindnessReminder"),j.prototype),(0,i.default)(j.prototype,"clickKindnessReminder",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"clickKindnessReminder"),j.prototype),(0,i.default)(j.prototype,"onDismissKindessOnboardingWidget",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"onDismissKindessOnboardingWidget"),j.prototype),(0,i.default)(j.prototype,"toggleConvoFiltersDropdown",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"toggleConvoFiltersDropdown"),j.prototype),(0,i.default)(j.prototype,"setLoader",[d.action],Object.getOwnPropertyDescriptor(j.prototype,"setLoader"),j.prototype),j)
e.default=_e}))
define("messaging/controllers/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","@ember-decorators/object","@glimmer/tracking","@ember/object","@ember/controller","msg-shared/utils/constants","ember-batcher","msg-shared/utils/user-visible-exception-helper","msg-shared/utils/sdk-view-data-helpers","msg-shared/utils/view-data-helpers","msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,y,v,_,w,C,x,M,D,S,k,P,T,O,I,A,E,R,N,U,j,L,z,F
const{CONTROL_NAMES:q,MODULE_KEYS:B,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:V}=p.default
let K=(b=(0,r.inject)("persistent-toast-manager@persistent-toast-manager"),y=(0,r.inject)("global-services@a11y-notification"),v=(0,r.inject)("i18n"),_=(0,r.inject)("lix"),w=(0,r.inject)("msg-data@data-manager"),C=(0,r.inject)("router"),x=(0,r.inject)("msg-ui@update-message-compose"),M=(0,r.inject)("global-services@window"),D=(0,r.inject)("authentication@authenticated-user"),S=(0,r.inject)("tracking"),k=(0,o.on)("messageSendSuccess"),P=(0,o.on)("messageSendFail"),T=class extends d.default{constructor(){super(...arguments);(0,n.default)(this,"CONTROL_NAMES",q);(0,n.default)(this,"MODULE_KEYS",B);(0,n.default)(this,"ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS",V);(0,n.default)(this,"queryParams",["after","afterParam","connId","groupId","invitation","recipient","type","body","subject","recipients","composeOptionType","contextEntityUrn","upsell","targetURL"]);(0,t.default)(this,"persistentToastManager",O,this);(0,t.default)(this,"a11yNotification",I,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"msgDataManager",R,this);(0,t.default)(this,"router",N,this);(0,t.default)(this,"updateMessageComposeService",U,this);(0,t.default)(this,"windowService",j,this);(0,t.default)(this,"authenticatedUser",L,this);(0,t.default)(this,"tracking",z,this);(0,n.default)(this,"isDraftThreadActionsDropdownOpen",!1);(0,t.default)(this,"conversationUrn",F,this)}get conversation(){return this.msgDataManager.getTrackedConversation(this.conversationUrn)}get virtualMeetingCtaViewData(){if(!this.conversation)return{}
const e=this.conversation.participants?this.conversation.participants.map((e=>this.msgDataManager.mailboxParticipants[e])):[]
return new f.default({conversation:this.conversation,authenticatedUserProfile:(0,c.get)(this.authenticatedUser,"miniProfile.content"),msgDataManager:this.msgDataManager,participants:e})}get showVideoMeetingButtonInHeader(){const{conversation:e}=this
return(0,g.isConversationFeatureSupported)(e,"REPLY")}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_onMessageSendSuccess(e){this.a11yNotifyBound("i18n_a11y_send_successful")
return e}_onMessageSendFail(e){this.a11yNotifyBound("i18n_a11y_send_failure")
let t=(0,u.default)(e)
if(!t){t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_conversation_send_error")()}this.persistentToastManager.error({message:t})
throw e}handleMessageSendSuccess(e){this._onMessageSendSuccess((0,c.get)(e,"conversation"))}handleMessageSendFail(e){this._onMessageSendFail(e)}recipientsChanged(e,t){(0,c.get)(this,"model.groupId")&&(0,c.set)(this,"msgAdapterOptions",{groupUrn:`urn:li:fs_miniGroup:${(0,c.get)(this,"model.groupId")}`});(0,c.setProperties)(this.model,{recipients:e,contextByRecipients:t})
this.msgDataManager.msgSDKDisabledInNode||this.msgDataManager.getMailbox().then((t=>t.createDraftConversation(e.map((e=>(0,h.getProfileDashUrn)(e)))))).then((e=>{if(!this.isDestroying){this.conversationUrn=e.clientId
this.model.conversation=e}}))}openConversation(e){this.transitionToRoute("thread",e)}retryTransition(){(0,c.set)(this,"isDiscardModalOpen",!1)
this.tracking.fireInteractionEvent(q.DISCARD_COMPOSE_MODAL.DISCARD)
this.send("retryRouteTransition")}closeDiscardModal(){(0,c.set)(this,"isDiscardModalOpen",!1)
this.tracking.fireInteractionEvent(q.DISCARD_COMPOSE_MODAL.CANCEL)}setComposeContext(e,t){this.msgDataManager.fetchComposeContext({recipients:[e],composeOptionType:"MESSAGE_REQUEST",context:t}).then((e=>{if(!this.isDestroying){const t=e?(0,c.get)(e,"contextText"):void 0;(0,c.set)(this,"contextText",t)}}))}composeToNonConnection(e,t){let{composeOption:n,targetURL:i,upsellContextUrn:a}=t
"UPSELL"!==(0,c.get)(n,"composeOptionType")?(0,c.get)(n,"composeNavigationContext")?this.router.transitionTo(i):this.windowService.open(jSecure.sanitizeUrl(i),"_blank"):this.transitionToRoute("compose",{queryParams:{composeOptionType:"PREMIUM_INMAIL",recipients:`List(${a})`,upsell:!0,targetURL:i}})}onConversationFetched(e){this.msgDataManager.setConversationAsActive(e)
this.conversationUrn=e.entityUrn}onConversationRemoved(){this.msgDataManager.getMailbox().then((e=>{(0,s.isDestroying)(this)||e.createDraftConversation([]).then((e=>{if(!this.isDestroying){this.conversationUrn=e.clientId;(0,c.set)(this.model,"conversation",e)}}))}))}didSubmitMessage(e){(0,m.mutateDOM)((()=>{this.isDestroying||this.send("composeCompleted",e)}))}updateMessageCompose(e){let{body:t}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({isOverlay:!1,messageText:t})}},O=(0,i.default)(T.prototype,"persistentToastManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(T.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(T.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(T.prototype,"lix",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(T.prototype,"msgDataManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(T.prototype,"router",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(T.prototype,"updateMessageComposeService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(T.prototype,"windowService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(T.prototype,"authenticatedUser",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(T.prototype,"tracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(T.prototype,"conversationUrn",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(T.prototype,"handleMessageSendSuccess",[k],Object.getOwnPropertyDescriptor(T.prototype,"handleMessageSendSuccess"),T.prototype),(0,i.default)(T.prototype,"handleMessageSendFail",[P],Object.getOwnPropertyDescriptor(T.prototype,"handleMessageSendFail"),T.prototype),(0,i.default)(T.prototype,"recipientsChanged",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"recipientsChanged"),T.prototype),(0,i.default)(T.prototype,"openConversation",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"openConversation"),T.prototype),(0,i.default)(T.prototype,"retryTransition",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"retryTransition"),T.prototype),(0,i.default)(T.prototype,"closeDiscardModal",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"closeDiscardModal"),T.prototype),(0,i.default)(T.prototype,"setComposeContext",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"setComposeContext"),T.prototype),(0,i.default)(T.prototype,"composeToNonConnection",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"composeToNonConnection"),T.prototype),(0,i.default)(T.prototype,"onConversationFetched",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onConversationFetched"),T.prototype),(0,i.default)(T.prototype,"onConversationRemoved",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onConversationRemoved"),T.prototype),(0,i.default)(T.prototype,"didSubmitMessage",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"didSubmitMessage"),T.prototype),(0,i.default)(T.prototype,"updateMessageCompose",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"updateMessageCompose"),T.prototype),T)
e.default=K}))
define("messaging/controllers/index",["exports","@ember/object","@ember/controller"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends n.default{get conversations(){return((0,t.get)(this.model.applicationRouteModel,"collection.data")??[]).filter((e=>void 0!==e&&!0===(0,t.get)(e,"isLoaded")))}}e.default=i}))
define("messaging/controllers/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/object","@ember/service","msg-shared/utils/constants","@ember/controller","msg-shared/utils/custom-tracking","msg-ui/utils/conversation-properties","gdpr-notice/utils/notice-constants","global-utils/utils/is-browser","msg-data/utils/msg-reactions-helper","@ember/object/internals","msg-shared/utils/get-participant-presence-statuses","urn-utils","msg-spinmail-data/utils/sponsored-conversation-properties","msg-spinmail/viewdata/sdk-sponsored-pillar-title-bar-viewdata","msg-shared/utils/sdk-view-data-helpers","tracked-toolbox","msg-spinmail/viewdata/sdk-spinmail-thread-viewdata","msg-spinmail/viewdata/sdk-sponsored-conversation-thread-viewdata","messaging/viewdata/sdk-conversation-thread-title-text-viewdata"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b,y,v,_,w,C,x){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,D,S,k,P,T,O,I,A,E,R,N,U,j,L,z,F,q,B,V,K
const{ACTION_TYPES:H,CONTROL_NAMES:G,MODULE_KEYS:W,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:Y}=o.default
let Q=(M=(0,r.inject)("lix"),D=(0,r.inject)("jet"),S=(0,r.inject)("tracking"),k=(0,r.inject)("authentication@authenticated-user"),P=(0,r.inject)("i18n"),T=(0,r.inject)("msg-data@data-manager"),O=(0,r.inject)("msg-ui@update-message-compose"),I=(0,r.inject)("formatter"),A=(0,r.inject)("router"),E=(0,r.inject)("presence@presence-api-dash"),R=class extends l.default{get inmailReplyDeepLink(){return this.trk}get isCompanySender(){return(0,v.isConversationWithCompany)(this.conversation,this.msgDataManager,(0,s.get)(this.authenticatedUser,"miniProfile"))}get headerReactionNotification(){const{reactionNotification:e}=this.msgDataManager.messageReactionsHelper
let t
m.default&&(t=document.getElementById(this.messageListId))
if(e&&(0,u.shouldDisplayReactionNotificationInHeader)(e.messageEvent,(0,s.get)(this.conversation,"id"),t,this.authenticatedUser))return e}get quickRepliesList(){return((0,s.get)(this.conversation,"latestEvent.quickReplyRecommendations")??[]).map((e=>({text:(0,s.get)(e,"content.text"),reply:e})))}get renderThread(){return this.conversation.messages.length||this.conversation.status.fullyLoaded}get conversation(){return this.msgDataManager.getTrackedConversation(this.model.conversationUrn)}get participant(){return(0,s.get)(this.conversation,"participants.firstObject")}get showMessageForm(){return(0,d.enableUserReplies)(this.conversation)&&!this.selectedInMailReplySmartAction}get enableReportingSponsoredConversation(){return this.isSponsoredInmail?(0,b.enableReportingSponsoredInMail)(this.conversation):!!this.isSponsoredConversation&&(0,b.enableReportingSponsoredMessage)(this.conversation)}get isSponsoredInmail(){return(0,v.isSponsoredInMail)(this.conversation)}get isSponsoredConversation(){return(0,v.isSponsoredConversation)(this.conversation)}get showVideoMeetingButtonInHeader(){const{conversation:e}=this
return(0,v.isConversationFeatureSupported)(e,"REPLY")&&!this.isCompanySender}get sponsoredConversationThreadTitleTextViewData(){const e=this.conversation.participants.map((e=>this.msgDataManager.mailboxParticipants[e]))
return new x.default({conversation:this.conversation,participants:e,authenticatedUserProfile:(0,s.get)(this.authenticatedUser,"miniProfile.content"),msgDataManager:this.msgDataManager,i18n:this.i18n,formatter:this.formatter})}get sponsoredPillarTitleBarViewData(){return new y.default({conversation:this.conversation,authenticatedUser:this.authenticatedUser,msgDataManager:this.msgDataManager,i18n:this.i18n,formatter:this.formatter,presenceAPI:this.presenceAPI})}get spinMailThreadViewData(){return new w.default({conversation:this.conversation,msgDataManager:this.msgDataManager,authenticatedUserProfile:(0,s.get)(this.authenticatedUser,"miniProfile.content"),presenceAPI:this.presenceAPI})}get sponsoredConversationThreadViewData(){return new C.default({conversation:this.conversation,msgDataManager:this.msgDataManager,presenceAPI:this.presenceAPI})}constructor(){super(...arguments);(0,n.default)(this,"messageListId",`message-list-${(0,g.guidFor)(this)}`);(0,n.default)(this,"messageThreadId",`message-thread-${(0,g.guidFor)(this)}`);(0,n.default)(this,"CONTROL_NAMES",G);(0,n.default)(this,"MODULE_KEYS",W);(0,n.default)(this,"ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS",Y);(0,t.default)(this,"lix",N,this);(0,t.default)(this,"jet",U,this);(0,t.default)(this,"tracking",j,this);(0,t.default)(this,"authenticatedUser",L,this);(0,t.default)(this,"i18n",z,this);(0,t.default)(this,"msgDataManager",F,this);(0,t.default)(this,"updateMessageComposeService",q,this);(0,t.default)(this,"formatter",B,this);(0,t.default)(this,"router",V,this);(0,t.default)(this,"presenceAPI",K,this);(0,n.default)(this,"showRenameConversationForm",!1);(0,n.default)(this,"queryParams",["trk"]);(0,s.setProperties)(this,{gdprNoticeType:[p.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL]})}handleInMailReplyDeepLink(){this.inmailReplyDeepLink&&"INMAIL"===(0,s.get)(this.conversation,"latestEvent.subtype")&&"DECLINED"!==(0,s.get)(this,"model.conversation.latestEvent.eventContent.customContent.actionType")&&(this.inmailReplyDeepLink.endsWith("sent_accepted")?this.openInMailReplyPanel(this.quickRepliesList.find((e=>"INMAIL_ACCEPT"===(0,s.get)(e,"reply.replyType")))):this.inmailReplyDeepLink.endsWith("sent_rejected")&&this.openInMailReplyPanel(this.quickRepliesList.find((e=>"INMAIL_DECLINE"===(0,s.get)(e,"reply.replyType")))))}toggleStarState(e){const t=(0,s.get)(e,"starred"),n=(0,s.get)(e,"entityUrn")
this.msgDataManager.toggleConversationStar(n,!t)
const i=document.getElementById(this.messageThreadId).querySelector(".msg-thread__star-icon")
null==i||i.blur()}loadMore(){return(0,s.get)(this,"model.collection").fetchAndLoadMore().catch((e=>{this.isDestroying||this.jet.error(e,["load-more-events","msg-custom-err-log"])
throw e}))}toggleConversationMute(e){const t=(0,s.get)(e,"muted"),n=this.msgDataManager.toggleConversationMute((0,s.get)(e,"entityUrn"),!t),i=t?H.MUTE:H.UNMUTE
c.default.fireDetailActionEvent({actionType:i,conversationObjectUrn:(0,s.get)(e,"backendUrn"),participantUrns:c.default.getParticipantTrackingUrns((0,s.get)(e,"participants")),participantPresenceStatuses:(0,h.getParticipantPresenceStatuses)(e),controlName:G.CONVERSATION_ACTIONS.MUTE,trackingService:this.tracking})
return n}toggleShowRenameConversationForm(e){(0,s.set)(this,"showRenameConversationForm",e)}redirectToActiveConversation(e){this.send("redirectOnActiveConversationAction",e)}handleSuccessfulDiscardRequest(e){const t=(0,f.extractEntityInfoFromUrn)(e).id
this.send("redirectOnActiveConversationAction",t)}retryTransition(){(0,s.set)(this,"isDiscardModalOpen",!1)
this.tracking.fireInteractionEvent(G.DISCARD_COMPOSE_MODAL.DISCARD)
this.send("retryRouteTransition")}closeDiscardModal(){(0,s.set)(this,"isDiscardModalOpen",!1)
this.tracking.fireInteractionEvent(G.DISCARD_COMPOSE_MODAL.CANCEL)}openInMailReplyPanel(e){(0,s.set)(this,"selectedInMailReplySmartAction",e)}},N=(0,i.default)(R.prototype,"lix",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(R.prototype,"jet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(R.prototype,"tracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(R.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(R.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(R.prototype,"msgDataManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,i.default)(R.prototype,"updateMessageComposeService",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(R.prototype,"formatter",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(R.prototype,"router",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(R.prototype,"presenceAPI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(R.prototype,"conversation",[_.cached],Object.getOwnPropertyDescriptor(R.prototype,"conversation"),R.prototype),(0,i.default)(R.prototype,"toggleStarState",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"toggleStarState"),R.prototype),(0,i.default)(R.prototype,"loadMore",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"loadMore"),R.prototype),(0,i.default)(R.prototype,"toggleConversationMute",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"toggleConversationMute"),R.prototype),(0,i.default)(R.prototype,"toggleShowRenameConversationForm",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"toggleShowRenameConversationForm"),R.prototype),(0,i.default)(R.prototype,"redirectToActiveConversation",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"redirectToActiveConversation"),R.prototype),(0,i.default)(R.prototype,"handleSuccessfulDiscardRequest",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"handleSuccessfulDiscardRequest"),R.prototype),(0,i.default)(R.prototype,"retryTransition",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"retryTransition"),R.prototype),(0,i.default)(R.prototype,"closeDiscardModal",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"closeDiscardModal"),R.prototype),(0,i.default)(R.prototype,"openInMailReplyPanel",[s.action],Object.getOwnPropertyDescriptor(R.prototype,"openInMailReplyPanel"),R.prototype),R)
e.default=Q}))
define("messaging/engine",["exports","voyager-web/resolver","ember-engines/engine","ember-load-initializers"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a="messaging",s=n.default.extend({Resolver:t.default,modulePrefix:a});(0,i.default)(s,a)
var r=s
e.default=r}))
define.alias("ember-number-formatting/helpers/abbreviate-number","messaging/helpers/abbreviate-number")
define.alias("ember-truth-helpers/helpers/and","messaging/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","messaging/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","messaging/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","messaging/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","messaging/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","messaging/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","messaging/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("messaging/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","messaging/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","messaging/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","messaging/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","messaging/helpers/format-title")
define.alias("hue-web-icons/helpers/get-asset-url","messaging/helpers/get-asset-url")
define.alias("ember-truth-helpers/helpers/gt","messaging/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","messaging/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","messaging/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","messaging/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","messaging/helpers/is-equal")
define("messaging/helpers/is-page-inbox-within-max-page-inboxes-displayed",["exports","@ember/component/helper"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildPageInboxWithinMaxPageInboxesDisplayed=n
e.default=void 0
function n(e){let[t,n]=e
return t+1<=n}var i=(0,t.helper)(n)
e.default=i}))
define.alias("artdeco-icons-web/helpers/li-icon","messaging/helpers/li-icon")
define.alias("ember-async-data/helpers/load","messaging/helpers/load")
define.alias("ember-number-formatting/helpers/localized-format-currency","messaging/helpers/localized-format-currency")
define.alias("ember-number-formatting/helpers/localized-format-number","messaging/helpers/localized-format-number")
define.alias("ember-truth-helpers/helpers/lt","messaging/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","messaging/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","messaging/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","messaging/helpers/not")
define.alias("ember-truth-helpers/helpers/or","messaging/helpers/or")
define("messaging/helpers/page-inbox-url-builder-from-page-id",["exports","@ember/component/helper"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildPageInboxUrlFromId=n
e.default=void 0
function n(e){let[t]=e
return`/company/${t}/admin/inbox`}var i=(0,t.helper)(n)
e.default=i}))
define("messaging/helpers/page-title",["exports","ember-page-title/helpers/page-title"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n}))
define("messaging/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-route-action-helper/helpers/route-action","messaging/helpers/route-action")
define.alias("ember-app-scheduler/helpers/route-idle","messaging/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","messaging/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","messaging/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","messaging/helpers/t")
define.alias("ember-number-formatting/helpers/trim-fractional-numbers","messaging/helpers/trim-fractional-numbers")
define.alias("ember-truth-helpers/helpers/xor","messaging/helpers/xor")
define.alias("ember-uuid","messaging/index")
define("messaging/initializers/icons",["exports","artdeco-icons-web/src/icons","messaging/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function i(e){throw e}var a={name:"icons",initialize:function(){const{environment:e,APP:a}=n.default
let s,r
a&&({artdecoCustomSpriteUrl:s,artdecoCustomSpriteName:r}=a)
const o="test"!==e
t.default.load(o,s,r).catch(i)}}
e.default=a}))
define.alias("ember-cli-pemberly-lix/initializers/lix","messaging/initializers/lix")
define.alias("ember-m3/initializers/m3-store","messaging/initializers/m3-store")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","messaging/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","messaging/modifiers/create-ref")
define.alias("@ember/render-modifiers/modifiers/did-insert","messaging/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","messaging/modifiers/did-intersect")
define.alias("@ember/render-modifiers/modifiers/did-update","messaging/modifiers/did-update")
define.alias("ember-prop-modifier","messaging/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","messaging/modifiers/scroll-into-view")
define.alias("@ember/render-modifiers/modifiers/will-destroy","messaging/modifiers/will-destroy")
define("messaging/routes/application",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","@ember/object","rsvp","global-utils/utils/is-browser","msg-shared/utils/constants","messaging/utils/leave-messaging-modal","data-layer/m3-configs/jobs/jobs-home-prefetch-config","messaging/utils/get-route-pagekey","ember-lifeline","@ember/utils","@ember/routing/route","msg-data/utils/urn-id-helpers"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,v,_,w,C,x,M,D,S,k,P,T,O,I,A,E,R,N,U,j,L,z,F
const{SEARCH_FILTER:q,MAILBOX_FOLDER:B,MESSAGE_REQUEST_FILTER:V,MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:K,MESSAGE_REQUEST_DECLINED:H},INBOX_TYPES:G,SDK_FILTER_NAME_MAP:W,INITIAL_CONVERSATION_LS_KEY:Y}=d.default
let Q=(y=(0,r.inject)("global-services@a11y-notification"),v=(0,r.inject)("authentication@authenticated-user"),_=(0,r.inject)("global-nav-shared@badge"),w=(0,r.inject)("i18n"),C=(0,r.inject)("lix"),x=(0,r.inject)("global-services@local-storage"),M=(0,r.inject)("msg-data@data-manager"),D=(0,r.inject)("msg-shared@component-context"),S=(0,r.inject)("prefetch"),k=(0,r.inject)("router"),P=(0,r.inject)("msg-cross-pillar@messaging-user-settings"),T=class extends f.default{pageKey(){return(0,u.default)(this.paramsFor(this.routeName),"flagship3_messaging")}get enableFocusedInbox(){return!!this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-experience")&&(!this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-opt-in")||!!this.userSettings.focusedInboxEnabled)}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",O,this);(0,t.default)(this,"authenticatedUser",I,this);(0,t.default)(this,"badging",A,this);(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"lix",R,this);(0,t.default)(this,"localStorage",N,this);(0,t.default)(this,"msgDataManager",U,this);(0,t.default)(this,"msgComponentContextService",j,this);(0,t.default)(this,"prefetch",L,this);(0,t.default)(this,"router",z,this);(0,t.default)(this,"userSettings",F,this);(0,n.default)(this,"queryParams",{filter:{refreshModel:!0,replace:!0,scope:"controller"},searchTerm:{refreshModel:!0,replace:!0,scope:"controller"},inboxType:{refreshModel:!0,replace:!0}})
this.msgComponentContextService.setTo("pillar")
c.default&&(0,o.setProperties)(this,{visibilityChangeListener:this._handleVisibilityChange,focusListener:this._clearUnseenBadge})
this.checkForDraft=e=>(0,p.nativeLeaveAlert)(e,this.i18n)}setupController(e){if(!(0,s.isDestroying)(this)){super.setupController(...arguments)
if(!this.msgDataManager.msgSDKDisabledInNode){e.checkForUnconfirmedEmail()
e.conversationQuery=this._getConversationQuery();(0,o.set)(e,"isSearchLoading",!1)}}}resetController(e,t,n){n&&/^thread/.test(n.to.name)||(0,o.set)(e,"searchTerm",void 0);(0,o.set)(e,"isFiltersDropdownOpen",!1)
if(t&&!n.from.name.startsWith("messaging.compose")){this.localStorage.getItem(Y)&&this.localStorage.removeItem(Y)}}deserializeQueryParam(e,t){const n=e&&e.toUpperCase()
return"filter"===t?q[n]||B[n]||n===V.PENDING||n===V.DECLINED?n:void 0:super.deserializeQueryParam(e,t)}serializeQueryParam(e,t){return"filter"===t?e&&e.toLowerCase()||void 0:super.serializeQueryParam(e,t)||void 0}_markAllItemsAsSeen(){c.default&&this._clearUnseenBadge()}_isSearching(){const{searchTerm:e,filter:t}=this.paramsFor(this.routeName)
return(0,h.isPresent)(e)||(0,h.isPresent)(t)}_getConversationQuery(){let e
if(this._isSearching()){const{searchTerm:t,filter:n}=this.paramsFor(this.routeName)
e={q:"search"}
t&&(e.keywords=t)
n&&q[n]&&(e.filters=[n])
n&&B[n]&&(e.folders=[n])
n&&n===V.PENDING&&(e={q:"systemLabel",type:K,excludedSystemLabelTypes:["SPAM","ARCHIVE"]})
n&&n===V.DECLINED&&(e={q:"systemLabel",type:H,excludedSystemLabelTypes:["SPAM","ARCHIVE"]})}return e}loading(){return!this._isSearching()}async beforeModel(){super.beforeModel(...arguments)
this.prefetch.prefetchData((0,m.jobsPrefetchConfig)(this.lix),"msg-jobs")
await this.userSettings.syncUserSettings();(0,s.isDestroying)(this)||this.enableFocusedInbox&&this.msgDataManager.inboxManager.fetchSecondaryInboxData()}model(){if((0,s.isDestroying)(this))return
const e={},t=this._getConversationQuery()
if(this.msgDataManager.msgSDKDisabledInNode)return Promise.resolve({})
let n,i
if(t){const{searchTerm:e,filter:t}=this.paramsFor(this.routeName)
if(e){n=`${e}-${Date.now()}`
i={kind:"search",categories:["INBOX","SPAM","ARCHIVE"],keywords:e,firstDegreeConnections:!1}}else if(t)if("CONNECTIONS"===t){n="CONNECTIONS"
i={kind:"search",categories:["INBOX","SPAM","ARCHIVE"],firstDegreeConnections:!0,keywords:" "}}else if("UNREAD"===t){n=`UNREAD-${Date.now()}`
i={kind:"search",categories:["INBOX","SPAM","ARCHIVE"],firstDegreeConnections:!1,read:!1,keywords:" "}}else{const e=W[t]||t
n=e
i={kind:"category",category:e}}}else if(this.enableFocusedInbox){var a
const t=(null===(a=this.paramsFor(this.routeName).inboxType)||void 0===a?void 0:a.toUpperCase())||G.PRIMARY
n=`${t}_INBOX`
i={kind:"category",category:n}
e.inboxType=t}else n="INBOX"
e.mailboxName=n
e.mailbox=this.msgDataManager.getMailbox(n,i).then((e=>{if(!(0,s.isDestroying)(this)){"INBOX"===n||0!==e.state.conversations.length||e.state.status.loading||e.loadOlderConversations()
return e}}))
if(this.msgDataManager.isPremiumUpsellEnabled){e.initConversationLength=this.msgDataManager.getMailbox(n,i).then((e=>{if(!(0,s.isDestroying)(this))return e.state.conversations.length}))
e.upsellCard=this.msgDataManager.fetchMessagingPremiumUpsellCard().then((e=>{if(!(0,s.isDestroying)(this))return e}))}this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-starter-ads")&&this.msgDataManager.fetchConversationStarterAdPreview()
return(0,l.hash)(e)}activate(){super.activate(...arguments)
this.badging.pausePolling("messaging")
if(c.default){(0,o.set)(this,"beforeunloadListener",this.checkForDraft.bind(this));(0,g.addEventListener)(this,window,"beforeunload",this.beforeunloadListener);(0,g.addEventListener)(this,document,"visibilitychange",this.visibilityChangeListener);(0,g.addEventListener)(this,document,"focus",this.focusListener)}}deactivate(){super.deactivate(...arguments)
this.badging.resumePolling("messaging")
if(c.default){(0,g.removeEventListener)(this,document,"visibilitychange",this.visibilityChangeListener);(0,g.removeEventListener)(this,document,"focus",this.focusListener)}}_handleVisibilityChange(){c.default&&document.getElementById("messaging")&&this._clearUnseenBadge()}_clearUnseenBadge(){this.badging.markAllItemsAsSeen({badgeName:"messaging",forceAPI:!0})}_redirectOnActiveConversationAction(e){const t=this.modelFor("thread")
let n
if(t){const{conversation:e}=t
e&&(n=(0,b.extractMailboxAndConversationId)(e.entityUrn).conversationId)}if(e===n){let e
const{mailbox:t}=this.modelFor("application")
if(0===t.state.conversations.length)e=this.router.transitionTo("messaging.compose")
else{const n=(0,b.extractMailboxAndConversationId)(t.state.conversations.first().entityUrn).conversationId
e=this.router.transitionTo("messaging.thread",n)}return e}return(0,l.resolve)()}redirectOnActiveConversationAction(e){return this._redirectOnActiveConversationAction(e)}redirectToThread(e){return e?this.router.transitionTo("messaging.thread",e):this.router.transitionTo("messaging.compose")}refreshRoute(){this.refresh()}},O=(0,i.default)(T.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(T.prototype,"authenticatedUser",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(T.prototype,"badging",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(T.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(T.prototype,"lix",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(T.prototype,"localStorage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(T.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(T.prototype,"msgComponentContextService",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(T.prototype,"prefetch",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(T.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(T.prototype,"userSettings",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(T.prototype,"loading",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"loading"),T.prototype),(0,i.default)(T.prototype,"redirectOnActiveConversationAction",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"redirectOnActiveConversationAction"),T.prototype),(0,i.default)(T.prototype,"redirectToThread",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"redirectToThread"),T.prototype),(0,i.default)(T.prototype,"refreshRoute",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"refreshRoute"),T.prototype),T)
e.default=Q}))
define("messaging/routes/compose-deeplink",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service"],(function(e,t,n,i,a,s,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,c
let d=(o=(0,r.inject)("router"),l=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"router",c,this)}beforeModel(){const e=this.paramsFor("compose-deeplink")
this.router.replaceWith("messaging.compose",{queryParams:e})}},c=(0,i.default)(l.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=d}))
define("messaging/routes/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","ember-cli-pemberly-tracking","ember-cli-pemberly-tracking/utils/tracking","global-utils/utils/is-browser","messaging/utils/leave-messaging-modal","@ember/object","@ember/runloop","msg-data/utils/urn-id-helpers","data-layer/utils/profile/get-profile","rsvp","@ember/routing/route","msg-shared/utils/should-in-mail"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,v,_,w,C,x,M,D,S,k,P,T,O,I,A,E,R
let N=(y=(0,r.inject)("prefetch"),v=(0,r.inject)("router"),_=(0,r.inject)("profile-services@identity-store"),w=(0,r.inject)("tracking"),C=(0,r.inject)("msg-data@data-manager"),x=(0,r.inject)("msg-cross-pillar@messaging-user-settings"),M=(0,r.inject)("lix"),D=(0,r.inject)("store"),S=class extends f.default{onExecuteAsLeaf(){this.pageKeyImprovementsEnabled||this.tracking.firePageViewEvent("flagship3_messaging_compose")}constructor(){super(...arguments);(0,t.default)(this,"prefetch",k,this);(0,t.default)(this,"router",P,this);(0,t.default)(this,"identityStore",T,this);(0,t.default)(this,"tracking",O,this);(0,t.default)(this,"msgDataManager",I,this);(0,t.default)(this,"userSettings",A,this);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"store",R,this);(0,n.default)(this,"discardWillTransitionForRUM",!0);(0,n.default)(this,"afterPath",void 0);(0,n.default)(this,"recipient",void 0);(0,n.default)(this,"queryParams",{composeOptionType:{refreshModel:!0}})
this.pageKeyImprovementsEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-pillar-pagekey-improvements")
this.pageKeyImprovementsEnabled||(0,o.setupNonAnchorRoute)(this)}pageKey(){return this.pageKeyImprovementsEnabled?"flagship3_messaging_compose":""}get useRecipientInUrl(){return-1!==this.afterPath.indexOf("profile")}model(e,t){if((0,s.isDestroying)(this))return
const{body:n,composeOptionType:i,controlUrn:a,referringModuleKey:r,messageComposeFlowTrackingId:o=(0,l.generateBase64UUID)()}=t.to?t.to.queryParams:{},c={recipients:[],conversationName:null,entryPointData:{composeOptionType:i,controlUrn:a,referringModuleKey:r,messageComposeFlowTrackingId:o}}
n&&(c.prepopulatedMessage=n)
i?this._composeViewModel(t,c):this._legacyComposeModel(t,c)
if(this.msgDataManager.msgSDKDisabledInNode)return(0,h.hash)(c)
c.conversationUrn=this.msgDataManager.getMailbox().then((e=>e.createDraftConversation([]))).then((e=>e.clientId))
return(0,h.hash)(c)}_composeViewModel(e,t){const{recipients:n,context:i,contextType:a,composeOptionType:s,contextEntityUrn:r,upsell:o,targetURL:l}=e.to?e.to.queryParams:{}
let c=/List\((.*)\)/.exec(n)[1]
if(c){c=c.split(/,(?![^()]*\))/g)
t.recipients=(0,h.all)(c.map((e=>{var t
const n=null==e||null===(t=e.replace("fs_miniProfile","fsd_profile"))||void 0===t?void 0:t.replace("fs_profile","fsd_profile")
return(0,g.getProfileByEntityUrn)(this.store,n,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile")})))}if("PREMIUM_INMAIL"===s){t.isInMailCompose=!0
t.showPremiumUpsell=o
t.targetURL=l}else if("MESSAGE_REQUEST"===s){t.isInMailCompose=!1
t.messageContext={contextType:a,contextEntityUrn:r,composeOptionType:s,groupName:"groupName is wrong"}}t.composeViewContext=this.msgDataManager.fetchComposeContext({recipients:c,composeOptionType:s,context:i||r})}_legacyComposeModel(e,t){const{after:n,contextType:i,contextEntityUrn:a,groupId:r,groupName:o,invitation:l,recipient:c,connId:d,type:m,afterParam:u}=e.to?e.to.queryParams:{},f=c||d;(0,p.setProperties)(this,{afterPath:n,recipient:c,afterParam:u})
r&&(t.groupId=r)
l&&(t.invitationId=l)
const{identityStore:y}=this
if(f){const e=y.peekRecord("com.linkedin.voyager.dash.deco.identity.profile.MiniProfile",f)
t.recipients=e?(0,h.resolve)([e]):(0,g.getProfileById)(this.store,f,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile").then((e=>[e]))
if(m)t.isInMailCompose=(0,h.resolve)("inmail"===m)
else if(d&&!c||l||r)t.isInMailCompose=(0,h.resolve)(!1)
else if(i&&a&&o){t.isInMailCompose=(0,h.resolve)(!1)
t.isMessageRequestCompose=!0
t.messageContext={contextType:i,contextEntityUrn:a,groupName:o}}else t.isInMailCompose=this.lix.getTreatmentIsEnabled("voyager.web.messaging-graphql-profile-distance")?this.msgDataManager.fetchConnectionStatus(`urn:li:fsd_profile:${c}`).then((e=>{let{memberDistance:t}=e
if(!(0,s.isDestroying)(this))return t&&(0,b.default)(t)})):y.findRecord("com.linkedin.voyager.identity.profile.ProfileNetworkInfo",c).then((e=>{if((0,s.isDestroying)(this))return
const t=(0,p.get)(e,"distance.value")
return t&&(0,b.default)(t)}))
t.composeViewContext=(0,h.all)([t.isInMailCompose,t.recipients]).then((e=>{let[t,n]=e
return this.msgDataManager.fetchComposeContext({recipients:n.map((e=>(0,p.get)(e,"entityUrn"))),composeOptionType:t?"PREMIUM_INMAIL":"CONNECTION_MESSAGE",context:a})}))}}afterModel(e,t){var n
if((0,s.isDestroying)(this))return
super.afterModel(...arguments)
if(this.msgDataManager.msgSDKDisabledInNode)return e
this.userSettings.syncUserSettings()
const{controlUrn:i,referringModuleKey:a}=t.to?t.to.queryParams:{};(0,p.setProperties)(e.entryPointData,{controlUrn:i,referringModuleKey:a,recipientUrns:null===(n=e.recipients)||void 0===n?void 0:n.map((e=>(0,p.get)(e,"entityUrn"))),loaded:!0})
return e}setupController(e,t){if(!(0,s.isDestroying)(this)){super.setupController(e,t)
this.msgDataManager.msgSDKDisabledInNode||e.send("recipientsChanged",t.recipients)}}didTransition(){(0,m.schedule)("afterRender",(()=>{if(c.default){const e=document.querySelector(".msg-connections-typeahead__search-field"),t=document.querySelector(".msg-conversations-container__compose-btn")
document.activeElement===t&&e&&e.focus()}}))}composeCompleted(e){const{afterPath:t,recipient:n,afterParam:i}=this
t?n&&this.useRecipientInUrl?this.transitionToExternal(t,n,{queryParams:{messageSent:!0}}):i?this.transitionToExternal(t,i,{queryParams:{messageSent:!0}}):this.transitionToExternal(t,{queryParams:{messageSent:!0}}):e&&this.router.replaceWith("messaging.thread",(0,u.extractMailboxAndConversationId)(e.entityUrn).conversationId)}willTransition(e){if((0,d.composeHasValue)()){if(this.forceTransition){this.forceTransition=null
return!0}e.abort();(0,p.set)(this,"attemptedTransition",e);(0,p.set)(this.controller,"isDiscardModalOpen",!0)
this.tracking.firePageViewEvent("flagship3_messaging_compose_exit_new_conversation")}return!1}retryRouteTransition(){const{attemptedTransition:e}=this
if(e&&"function"==typeof e.retry){(0,p.setProperties)(this,{attemptedTransition:null,forceTransition:!0})
e.retry()}}},k=(0,i.default)(S.prototype,"prefetch",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(S.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(S.prototype,"identityStore",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(S.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(S.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(S.prototype,"userSettings",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(S.prototype,"lix",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(S.prototype,"store",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(S.prototype,"didTransition",[p.action],Object.getOwnPropertyDescriptor(S.prototype,"didTransition"),S.prototype),(0,i.default)(S.prototype,"composeCompleted",[p.action],Object.getOwnPropertyDescriptor(S.prototype,"composeCompleted"),S.prototype),(0,i.default)(S.prototype,"willTransition",[p.action],Object.getOwnPropertyDescriptor(S.prototype,"willTransition"),S.prototype),(0,i.default)(S.prototype,"retryRouteTransition",[p.action],Object.getOwnPropertyDescriptor(S.prototype,"retryRouteTransition"),S.prototype),S)
e.default=N}))
define("messaging/routes/index",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","rsvp","@ember/routing/route","global-utils/utils/is-browser","msg-data/utils/urn-id-helpers"],(function(e,t,n,i,a,s,r,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,m,u,g,h
let f=(p=(0,r.inject)("msg-data@data-manager"),m=(0,r.inject)("router"),u=class extends l.default{constructor(){super(...arguments);(0,n.default)(this,"pageKey","messaging_index");(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"router",h,this)}model(){if(!(0,s.isDestroying)(this))return(0,o.hash)({applicationRouteModel:this.modelFor("application")})}redirect(e,t){if((0,s.isDestroying)(this))return
if(!(n=t.targetName,i=t.to.queryParams,c.default&&"messaging.index"===n&&!i.searchTerm&&!i.filter))return
var n,i
const a=this.msgDataManager.getMailboxState(e.applicationRouteModel.mailboxName).conversations.first()
if(a){const{conversationId:e}=(0,d.extractMailboxAndConversationId)(a.entityUrn)
e&&this.router.transitionTo("messaging.thread",e)}else this.router.transitionTo("messaging.compose")}},g=(0,i.default)(u.prototype,"msgDataManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,i.default)(u.prototype,"router",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=f}))
define("messaging/routes/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","@ember/object","global-utils/utils/is-browser","msg-shared/utils/constants","messaging/utils/leave-messaging-modal","ember-cli-pemberly-tracking","msg-shared/utils/document-is-hidden","msg-data/utils/conversation-actions","@ember/routing/route","ember-app-scheduler","global-helpers/helpers/load","ember-lifeline","msg-shared/utils/urn-id-helpers","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,i,a,s,r,o,l,c,d,p,m,u,g,h,f,b,y,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,w,C,x,M,D,S,k,P,T,O,I,A,E,R,N,U,j,L,z,F
const{THREAD_DETAIL_JUMP_TARGET:q,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:B}}=c.default
let V=(_=(0,r.inject)("prefetch"),w=(0,r.inject)("global-nav-shared@badge"),C=(0,r.inject)("tracking"),x=(0,r.inject)("authentication@authenticated-user"),M=(0,r.inject)("msg-data@data-manager"),D=(0,r.inject)("msg-cross-pillar@messaging-user-settings"),S=(0,r.inject)("lix"),k=(0,r.inject)("rum"),P=(0,r.inject)("global-services@window"),T=(0,r.inject)("msg-spinmail-data@sponsored-action-tracking"),O=class extends g.default{onExecuteAsLeaf(){this.pageKeyImprovementsEnabled||this.tracking.firePageViewEvent(B)}pageKey(){return this.pageKeyImprovementsEnabled?B:""}constructor(){super(...arguments);(0,t.default)(this,"prefetch",I,this);(0,t.default)(this,"badgeService",A,this);(0,t.default)(this,"tracking",E,this);(0,t.default)(this,"authenticatedUser",R,this);(0,t.default)(this,"msgDataManager",N,this);(0,t.default)(this,"userSettings",U,this);(0,t.default)(this,"lix",j,this);(0,t.default)(this,"rumService",L,this);(0,t.default)(this,"windowService",z,this);(0,t.default)(this,"sponsoredActionTracking",F,this);(0,n.default)(this,"discardWillTransitionForRUM",!0)
this.pageKeyImprovementsEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-pillar-pagekey-improvements");(0,o.setProperties)(this,{badging:this.badgeService})
this.pageKeyImprovementsEnabled||(0,p.setupNonAnchorRoute)(this)}activate(){this.visibilityChangeHandler=this._handleVisibilityChange.bind(this)
this.windowService.addEventListener("visibilitychange",this.visibilityChangeHandler)}deactivate(){this.windowService.removeEventListener("visibilitychange",this.visibilityChangeHandler)}afterModel(e,t){if((0,s.isDestroying)(this))return
super.afterModel(...arguments)
if(this.msgDataManager.msgSDKDisabledInNode)return e
const{conversation:n}=e
if(!n)return{}
const{controlUrn:i,referringModuleKey:a,messageComposeFlowTrackingId:r}=t.to?t.to.queryParams:{}
e.entryPointData={controlUrn:i,referringModuleKey:a,messageComposeFlowTrackingId:r,recipientUrns:null==n?void 0:n.participants,loaded:!0}
const l=(0,o.get)(n,"entityUrn")
if(!(0,o.get)(n,"seen")){(0,o.set)(n,"seen",!0)
this.badging.markItemAsSeen("messaging",l)}this._processMessageFromAdvertiser(e)
this.userSettings.syncUserSettings()
e.initialEventsRequest.then((e=>{if(!(0,s.isDestroying)(this)){u.default.markConversationAsReadOnOpen(this.sponsoredActionTracking,this.msgDataManager.getTrackedConversation(n.entityUrn),this.msgDataManager)
return e}}))
const c=n.participants.filter((e=>e!==this.msgDataManager.userDashUrn))
e.composeViewContext=this.msgDataManager.fetchComposeContext({recipients:c,composeOptionType:"REPLY",context:(0,o.get)(n,"entityUrn")}).then((t=>{(0,s.isDestroying)(this)||(0,o.set)(e,"composeViewContext",t)}))
return e}beforeModel(){const{conversationId:e}=this.paramsFor("thread");(0,o.set)(this.controllerFor("application"),"activeConversationId",e)}model(){if((0,s.isDestroying)(this))return
const{conversationId:e}=this.paramsFor("thread")
if(this.msgDataManager.msgSDKDisabledInNode)return Promise.resolve({})
const t=(0,y.constructMailboxConversationUrn)(this.msgDataManager.userDashUrn,e)
return this.msgDataManager.fetchMailboxConversation(t).then((e=>{if(!(0,s.isDestroying)(this)){if(!e)throw new Error(`No conversation for ${t} was found in the store`)
return{conversationUrn:t,conversation:e,initialEventsRequest:this.msgDataManager.setConversationAsActive(e)}}})).catch((e=>{if((0,s.isDestroying)(this))throw e
l.default&&document.body.classList.add("boot-complete")
throw e}))}setupController(e){if((0,s.isDestroying)(this))return
super.setupController(...arguments)
if(this.msgDataManager.msgSDKDisabledInNode)return
this.pageKeyImprovementsEnabled||this.rumService.setPageKey("flagship3_messaging");(0,o.setProperties)(e,{selectedInMailReplySmartAction:void 0,inMailResponseAction:void 0})
const{initialEventsRequest:t}=this.modelFor(this.routeName);(0,o.set)(e,"initialEventsRequestState",(0,f.load)(t))
e.handleInMailReplyDeepLink()}buildRouteInfoMetadata(){return{debug:{suggestedTeams:["messaging"]}}}_markRealtimeAsRead(e){let t=!1
l.default&&(t=document.hasFocus()&&!(0,m.default)())
const n=(0,o.get)(e,"id"),{conversation:i}=this.modelFor(this.routeName)
if(n===(0,o.get)(i,"id")&&!(0,o.get)(i,"read")&&t){this.msgDataManager.markConversationAsRead((0,o.get)(i,"entityUrn"))
this.badging.markItemAsSeen("messaging",(0,o.get)(e,"entityUrn"),"READ")}return!0}_handleVisibilityChange(){if(!(0,m.default)()){const{conversation:e}=this.modelFor(this.routeName)
this.msgDataManager.syncConversationMessages(e)}}_processMessageFromAdvertiser(e){(0,b.runTask)(this,(()=>{e.initialEventsRequest.then((()=>{if((0,s.isDestroying)(this))return
const t=this.msgDataManager.getTrackedConversation(e.conversation.entityUrn)
if((0,v.isSponsoredConversation)(t)){this.controllerFor("application").send("loadCustomSpinMailAd",t.contentMetadata.conversationAdContent)
return}const n=t.messages.last()
if(!n){this.controllerFor("application").send("loadCustomSpinMailAd",null)
return}const i=(0,v.getMessageAdRenderContent)(n)
i?this.controllerFor("application").send("loadCustomSpinMailAd",i.subContent):this.controllerFor("application").send("loadCustomSpinMailAd",null)}))}))}willTransition(e){if((0,d.composeHasValue)()){if(!/^(?!messaging\.)/.test(e.to?e.to.name:null))return!0
if(this.forceTransition){this.forceTransition=null
return!0}e.abort();(0,o.set)(this,"attemptedTransition",e);(0,o.set)(this.controller,"isDiscardModalOpen",!0)
this.tracking.firePageViewEvent("flagship3_messaging_compose_exit_new_conversation")}return!1}retryRouteTransition(){const{attemptedTransition:e}=this
if(e&&"function"==typeof e.retry){(0,o.setProperties)(this,{attemptedTransition:null,forceTransition:!0})
e.retry()}}didTransition(){this.prefetch.prefetchAssets("tenor-gif");(0,h.whenRouteIdle)().then((()=>{if(!(0,s.isDestroying)(this)&&l.default){const e=document.querySelector(".msg-thread .msg-form__contenteditable"),t=document.querySelector(q)
e?e.focus():t&&t.focus()}}))}},I=(0,i.default)(O.prototype,"prefetch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(O.prototype,"badgeService",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(O.prototype,"tracking",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(O.prototype,"authenticatedUser",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(O.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(O.prototype,"userSettings",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(O.prototype,"lix",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(O.prototype,"rumService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(O.prototype,"windowService",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(O.prototype,"sponsoredActionTracking",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(O.prototype,"willTransition",[o.action],Object.getOwnPropertyDescriptor(O.prototype,"willTransition"),O.prototype),(0,i.default)(O.prototype,"retryRouteTransition",[o.action],Object.getOwnPropertyDescriptor(O.prototype,"retryRouteTransition"),O.prototype),(0,i.default)(O.prototype,"didTransition",[o.action],Object.getOwnPropertyDescriptor(O.prototype,"didTransition"),O.prototype),O)
e.default=V}))
define.alias("@embroider/util/services/ensure-registered","messaging/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","messaging/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","messaging/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","messaging/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","messaging/services/client-sensor")
define.alias("ember-date-service/services/date","messaging/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","messaging/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","messaging/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","messaging/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","messaging/services/lix")
define.alias("ember-m3/services/m3-schema-manager","messaging/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","messaging/services/media-player")
define.alias("ember-number-formatting/services/number-formatter","messaging/services/number-formatter")
define.alias("ember-number-formatting/services/number-locale","messaging/services/number-locale")
define.alias("ember-page-title/services/page-title-list","messaging/services/page-title-list")
define.alias("ember-page-title/services/page-title","messaging/services/page-title")
define.alias("@linkedin/ember-pem/services/pem-tracking","messaging/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","messaging/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","messaging/services/qualtrics-surveys")
define.alias("ember-media-player/services/static-asset-loader","messaging/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","messaging/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","messaging/services/tag-manager")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","messaging/services/tracking-adapter-for-tag-manager")
define("messaging/templates/application",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"3hw8dAK8",block:'[[[1,"\\n"],[1,[28,[35,0],[[28,[37,1],["i18n_messaging_conversations","messaging/templates/application"],null]],null]],[1,"\\n\\n"],[8,[39,2],[[24,1,"messaging"],[24,0,"msg"]],[["@template","@classMap"],["list-detail-aside",[28,[37,3],null,[["listDetail","list","detail"],["msg__list-detail","msg__list","msg__detail"]]]]],[["list","detail","aside"],[[[[1,"\\n"],[1,"    "],[10,0],[14,0,"msg-conversations-container__header relative"],[12],[1,"\\n      "],[10,0],[14,0,"msg-conversations-container__title-row"],[12],[1,"\\n        "],[10,"h1"],[14,0,"flex-grow-1 ph4 t-16 t-black t-bold"],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_messaging_conversations","messaging/templates/application"],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,4],null,[["@isOpen","@onVisibilityChange","@placement","@justification","@class"],[[30,0,["isHeaderDropdownMenuOpen"]],[28,[37,5],[[30,0],"isHeaderDropdownMenuOpen"],null],"bottom","right","mr1"]],[["default"],[[[[1,"\\n          "],[8,[30,2,["dropdown-trigger"]],[[4,[38,6],["dropdown_menu"],null]],[["@aria-label","@classNames"],[[28,[37,1],["a11y_msg_dropdown_menu","messaging/templates/application"],null],"artdeco-button artdeco-button--2 artdeco-button--circle artdeco-button--tertiary artdeco-button--muted"]],[["default"],[[[[1,"\\n            "],[8,[39,7],[[24,0,"artdeco-button__icon"]],[["@type","@size","@name"],["system","medium","overflow-web-ios"]],null],[1,"\\n          "]],[]]]]],[1,"\\n          "],[10,0],[14,0,"msg-conversations-container__dropdown-container"],[12],[1,"\\n            "],[8,[30,2,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n              "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[1,"\\n"],[41,[51,[30,0,["showMessageRequestList"]]],[[[1,"                  "],[8,[39,9],[[4,[38,6],["enter_bulk_selection"],null]],[["@itemSelected","@role"],[[30,0,["enterBulkActionsMode"]],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[35,1],["i18n_manage_conversations","messaging/templates/application"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[41,[30,0,["showMessageRequestInboxInHeaderDropdown"]],[[[1,"                    "],[8,[39,9],[[4,[38,6],["overflow_view_message_request_inbox"],null]],[["@itemSelected","@role"],[[30,0,["openPendingMessageRequestList"]],"button"]],[["default"],[[[[1,"\\n                      "],[1,[28,[35,1],["i18n_message_request_inbox","messaging/templates/application"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["showPendingMessageRequestList"]],[[[1,"                  "],[8,[39,9],[[4,[38,6],["view_declined_message_requests"],null]],[["@itemSelected","@role"],[[30,0,["openDeclinedMessageRequestConversationList"]],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[35,1],["i18n_declined_message_requests","messaging/templates/application"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n                "],[8,[39,9],null,[["@itemSelected","@role"],[[30,0,["openAwayMessageSettingsModal"]],"button"]],[["default"],[[[[1,"\\n                  "],[1,[52,[30,0,["msgDataManager","awayMessageSettings","length"]],[28,[37,1],["i18n_update_away_message","messaging/templates/application"],null],[28,[37,1],["i18n_set_away_message","messaging/templates/application"],null]]],[1,"\\n                "]],[]]]]],[1,"\\n\\n                "],[8,[39,9],[[4,[38,6],["view_manage_settings"],null]],[["@itemSelected","@role"],[[30,0,["openManageSettings"]],"button"]],[["default"],[[[[1,"\\n                  "],[1,[28,[35,1],["i18n_manage_settings","messaging/templates/application"],null]],[1,"\\n                "]],[]]]]],[1,"\\n\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "]],[2]]]]],[1,"\\n\\n        "],[8,[39,11],[[24,0,"msg-conversations-container__compose-btn artdeco-button artdeco-button--circle artdeco-button--tertiary mr2 artdeco-button--muted"],[24,"role","button"],[16,"aria-label",[28,[37,1],["i18n_compose_new_message","messaging/templates/application"],null]],[4,[38,12],["click",[30,0,["onOpenDetailClick"]]],null],[4,[38,6],["compose_message"],null]],[["@route","@query"],["compose",[28,[37,3],null,[["composeOptionType","recipients"],[[27],[27]]]]]],[["default"],[[[[1,"\\n          "],[8,[39,7],null,[["@type","@size","@name"],["system","medium","compose"]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n\\n      "],[8,[39,13],null,null,null],[1,"\\n\\n"],[41,[30,0,["isBulkActionsMode"]],[[[1,"        "],[8,[39,14],null,[["@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode","@selectedConversationUrns"],[[30,0,["willExecuteBulkAction"]],[30,0,["didExecuteBulkAction"]],[30,0,["onExitBulkActionsMode"]],[30,0,["selectedConversationUrns"]]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,15],null,[["@rumComponentId","@filter","@searchTerm","@inputSearchTerm","@isSearchLoading","@isFiltersDropdownOpen","@hasActiveSearch","@searchConversations","@clearActiveSearch","@clearFilters","@setFilter","@isBulkActionsMode","@showSearchInput","@toggleConvoFiltersDropdown","@loadedUnreadConversations"],["messaging/search-form",[30,0,["selectedFilter"]],[30,0,["searchTerm"]],[30,0,["inputSearchTerm"]],[30,0,["isSearchLoading"]],[30,0,["isFiltersDropdownOpen"]],[30,0,["hasActiveSearch"]],[30,0,["searchConversations"]],[30,0,["clearActiveSearch"]],[28,[37,16],[[30,0,["setFilter"]],[27]],null],[30,0,["setFilter"]],[30,0,["isBulkActionsMode"]],[30,0,["showSearchInput"]],[30,0,["toggleConvoFiltersDropdown"]],[30,0,["continuousConversations"]]]],null],[1,"\\n\\n"],[41,[30,0,["showFocusedInboxTabs"]],[[[1,"        "],[8,[39,17],null,[["@currentSelection","@showSecondaryTabBadge","@onPrimaryTabSelect","@onSecondaryTabSelect","@isOverlay"],[[30,0,["selectedInboxType"]],[30,0,["hasUnseenSecondaryConversations"]],[28,[37,16],[[30,0,["setInboxType"]],"PRIMARY"],null],[28,[37,16],[[30,0,["setInboxType"]],"SECONDARY"],null],false]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["isBulkActionsMode"]]],[[[41,[30,0,["showKindnessReminder"]],[[[1,"          "],[8,[39,18],[[24,0,"msg-conversations-container__kindness-reminder"]],[["@type","@legoConfig","@dismissButtonSize","@text","@primaryActionText","@onDismiss","@onPrimary","@onImpression"],["basic",[30,0,["kindnessReminderLegoConfig"]],2,[28,[37,1],["i18n_kindness_reminder_text","messaging/templates/application"],null],[28,[37,1],["i18n_kindness_reminder_learn_more","messaging/templates/application"],null],[30,0,["onDismissKindessOnboardingWidget"]],[30,0,["clickKindnessReminder"]],[30,0,["impressionKindnessReminder"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n      "],[8,[39,19],null,null,null],[1,"\\n\\n      "],[10,3],[14,6,"#thread-detail-jump-target"],[14,0,"jump-link visually-hidden focusable"],[12],[1,"\\n        "],[10,0],[14,0,"pv1 ph2 t-14 t-black t-normal"],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_ally_convo_jump","messaging/templates/application"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"h2"],[14,0,"visually-hidden"],[12],[1,"\\n        "],[1,[28,[35,1],["i18n_a11y_conversation_list","messaging/templates/application"],null]],[1,"\\n      "],[13],[1,"\\n      "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n        "],[1,[28,[35,1],["i18n_a11y_infinite_scroll","messaging/templates/application"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["showMarkingAllReadLoader"]],[[[1,"      "],[8,[39,20],[[16,0,[52,[30,0,["selectedFilter"]],"full-height justify-center"]]],[["@size","@textPosition","@text","@border"],["xsmall","right",[28,[37,1],["i18n_mark_all_read_progress_text_v2","messaging/templates/application"],null],[52,[28,[37,21],[[30,0,["selectedFilter"]]],null],"bottom"]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["showFocusedInboxBanner"]]],[[[1,"      "],[8,[39,22],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showInboxLoader"]],[[[1,"      "],[8,[39,20],[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["hideConversationsList"]]],[[[1,"      "],[11,0],[24,0,"relative display-flex justify-center flex-column overflow-hidden msg-conversations-container--inbox-shortcuts"],[4,[38,23],[[30,0,["onInsert"]]],null],[12],[1,"\\n        "],[11,"ul"],[24,0,"list-style-none msg-conversations-container__conversations-list"],[4,[38,24],null,[["featureName"],["messaging/conversations-container"]]],[12],[1,"\\n"],[1,"          "],[11,"li"],[4,[38,25],null,[["when"],[[30,0,["shouldScrollConversationListToTop"]]]]],[12],[13],[1,"\\n"],[41,[51,[30,0,["hasActiveSearch"]]],[[[41,[30,0,["showPendingMessageRequestList"]],[[[1,"              "],[8,[39,26],null,[["@trackingKey","@goBack"],["back_to_inbox_from_requests",[30,0,["backToInboxFromMessageRequestList"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showDeclinedMessageRequestList"]],[[[1,"              "],[8,[39,26],null,[["@isDeclinedList","@trackingKey","@goBack"],[true,"back_to_message_requests_from_declined_messages",[30,0,["openPendingMessageRequestList"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showMessageRequestBanner"]],[[[1,"              "],[8,[39,27],[[24,0,"msg-message-request-banner-container-v2__pillar"]],[["@headingText","@openMessageRequestConversationList","@trackingKey"],[[30,0,["headerText"]],[30,0,["openPendingMessageRequestList"]],"bundle_view_message_request_inbox"]],null],[1,"\\n            "]],[]],null]],[]]]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowSecondaryPreviewBanner"]],[[[1,"            "],[10,0],[14,0,"scaffold-layout__list-item msg-conversation-listitem"],[12],[1,"\\n              "],[8,[39,28],null,[["@classNames","@onClicked"],["pl3 m2",[28,[37,16],[[30,0,["setInboxType"]],"SECONDARY"],null]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showFocusedInboxBanner"]],[[[1,"            "],[8,[39,29],null,[["@showLoader","@setInboxType"],[[30,0,["setLoader"]],[30,0,["setInboxType"]]]],null],[1,"\\n          "]],[]],null]],[]]],[1,"          "],[8,[39,30],null,[["@conversations","@showLoadingState","@selectedConversations","@isBulkActionsMode","@isSearchMode","@onOpenDetailClick","@onSelectableEntityClick","@afterRemovingConversation","@fireSearchActionEventTracking","@List","@selectedConversationUrns","@showPremiumUpsell","@conversationLength"],[[30,0,["continuousConversations"]],[28,[37,31],[[30,0,["isLoadingInitialConversations"]],[30,0,["isLoadingMore"]]],null],[30,0,["selectedConversations"]],[30,0,["isBulkActionsMode"]],[30,0,["hasActiveSearch"]],[30,0,["onOpenDetailClick"]],[30,0,["onSelectableEntityClick"]],[30,0,["afterRemovingConversation"]],[30,0,["fireSearchActionEventTrackingByUrn"]],[30,1],[30,0,["selectedConversationUrns"]],[30,0,["showPremiumUpsell"]],[30,0,["continuousConversations","length"]]]],null],[1,"\\n"],[41,[30,0,["showPremiumUpsell"]],[[[1,"            "],[8,[39,32],null,[["@upsellCard","@defaultConfig","@upsellStyles"],[[30,0,["model","upsellCard"]],[28,[37,3],null,[["dismissible","dismissButtonSize"],[true,1]]],[28,[37,3],null,[["upsellWrapperClass","upsellContentClass","headlineClass","subheaderClass","upsellIllustrationClass"],["justify-center p4 msg-conversations-container__upsell-card","text-align-center mt3 mb3","text-heading-medium","t-black mt1 text-body-small","msg-conversation-list__upsell-illustration"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["loadMoreError"]],[[[1,"            "],[10,"li"],[14,0,"mb6"],[12],[1,"\\n              "],[8,[39,33],null,[["@class","@headline","@illustration","@message"],["msg-conversations-container__load-error",[28,[37,1],["i18n_oops","messaging/templates/application"],null],"no-connection-muted",[28,[37,1],["i18n_load_more_error","messaging/templates/application"],null]]],null],[1,"\\n\\n"],[1,"              "],[8,[39,34],[[4,[38,12],["click",[30,0,["loadMore"]]],null],[4,[38,6],["messaging.retry"],null]],[["@class","@type"],["block mlA mrA","secondary"]],[["default"],[[[[1,"\\n                "],[1,[28,[35,1],["i18n_try_again","messaging/templates/application"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["isLoadingMore"]]],[[[41,[30,0,["canInfiniteScroll"]],[[[41,[30,0,["continuousConversations","length"]],[[[1,"                "],[10,"li"],[14,0,"p3"],[12],[1,"\\n                  "],[8,[39,35],null,[["@inView","@rootSelector"],[[30,0,["loadMore"]],".msg-conversations-container__conversations-list"]],null],[1,"\\n                  "],[8,[39,34],[[4,[38,12],["click",[30,0,["loadMore"]]],null]],[["@class","@color","@size","@type"],["block mlA mrA","muted",1,"tertiary"]],[["default"],[[[[1,"\\n                    "],[1,[28,[35,1],["i18n_load_more_conversations","messaging/templates/application"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[1]],[[[1,"\\n    "],[46,[28,[37,37],null,null],null,null,null],[1,"\\n  "]],[]],[[[1,"\\n"],[41,[30,0,["spinMailAdUnit","adUnit"]],[[[41,[30,0,["spinMailAdUnit","adUnit","adUnit"]],[[[41,[30,0,["spinMailAdUnit","action"]],[[[1,"          "],[11,3],[16,6,[30,0,["spinMailAdUnit","action"]]],[24,0,"ad-banner"],[24,"target","_blank"],[24,"rel","noopener noreferrer"],[4,[38,12],["click",[30,0,["spinMailAdClicked"]]],null],[12],[1,"\\n            "],[8,[39,38],null,[["@image","@width","@height","@class"],[[30,0,["spinMailAdUnit","adUnit","adUnit"]],300,250,"img_ad msg-spinmail-ad"]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"ad-banner"],[12],[1,"\\n            "],[8,[39,38],null,[["@image","@width","@height","@class"],[[30,0,["spinMailAdUnit","adUnit","adUnit"]],300,250,"img_ad msg-spinmail-ad"]],null],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],[[[1,"        "],[10,0],[14,0,"ad-banner"],[12],[1,"\\n          "],[8,[39,38],null,[["@image","@width","@height","@class"],[[30,0,["spinMailAdUnit","adUnit"]],300,250,"img_ad msg-spinmail-ad"]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[]],[[[1,"      "],[8,[39,39],[[24,0,"overflow-hidden"]],[["@slotSize","@zone","@pageZone"],["300x250","MESSAGING","PAGE_ZONE_BODY_RIGHT"]],null],[1,"\\n"]],[]]],[1,"    "],[8,[39,40],null,null,null],[1,"\\n  "]],[]]]]],[1,"\\n\\n"],[8,[39,41],null,[["@noticeTypes"],[[30,0,["gdprNoticeTypes"]]]],null],[1,"\\n"],[8,[39,42],null,[["@pillar","@modalContext","@isOpen","@linkToUpdateEmail","@resendConfirmationEmail","@onDismiss"],["MESSAGING",[30,0,["unconfirmedEmailModalContext"]],[30,0,["unconfirmedEmailModalIsOpen"]],true,[30,0,["resendConfirmationEmail"]],[28,[37,5],[[30,0],"unconfirmedEmailModalIsOpen",false],null]]],null],[1,"\\n\\n"],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"  "],[8,[39,43],null,[["@closeModal","@a11yDialogName"],[[28,[37,5],[[30,0],"awayMessageSettingsModalIsOpen",false],null],[52,[30,0,["msgDataManager","awayMessageSettings","length"]],[28,[37,1],["i18n_update_away_message","messaging/templates/application"],null],[28,[37,1],["i18n_set_away_message","messaging/templates/application"],null]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[1,"  "],[8,[39,44],null,[["@setInboxType"],[[28,[37,16],[[30,0,["setInboxType"]],"PRIMARY",true],null]]],null],[1,"\\n"]],[]],null]],["List","dropdown"],false,["ember-page-title@page-title","t","scaffold-layout@layout","hash","artdeco-dropdown@artdeco-dropdown","ember-set-helper@set","ember-cli-pemberly-tracking@track-interaction","hue-web-icons@icon","unless","artdeco-dropdown@artdeco-dropdown-item","if","link-to","on","messaging@premium-mailboxes","msg-ui@primitives/bulk-actions-panel-presenter","messaging@search-form","fn","msg-ui@focused-inbox-tabs-presenter","msg-ui@kindness-reminder-presenter","msg-ui@away-message-reminder-banner-presenter","msg-ui@loader","global-helpers@not","msg-ui@harmful-content-detection-presenter","did-insert","ember-cli-pemberly-tracking@render-performance","global-modifiers@scroll-into-view","msg-ui@message-request-list-header-presenter","msg-ui@inbox-header-with-message-request-presenter","msg-ui@focused-inbox-secondary-preview-banner-presenter","msg-ui@focused-inbox-banner-presenter","messaging@conversation-list-feature","global-helpers@or","s-upsell@upsell-templates/upsell-template-container","artdeco-empty-state@artdeco-empty-state","artdeco-button@artdeco-button","msg-ui@visible-beacon","component","-outlet","ember-vector-images@custom-image","ads@ad-banner","global-footer@global-footer-compact","msg-shared-modals@gdpr-notice","email-confirmation@email-confirmation-modal","msg-shared-modals@away-message-settings-modal-presenter","msg-shared-modals@smart-feature-modal-presenter"]]',moduleName:"messaging/templates/application.hbs",isStrictMode:!1})
e.default=n}))
define.alias("artdeco-datepicker/templates/components/artdeco-calendar","messaging/templates/components/artdeco-calendar")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker-embedded-cal","messaging/templates/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker","messaging/templates/components/artdeco-datepicker")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange-embedded-cal","messaging/templates/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange","messaging/templates/components/artdeco-daterange")
define("messaging/templates/compose",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"kKGgkEBz",block:'[[[41,[30,0,["model","entryPointData","loaded"]],[[[1,"  "],[8,[39,1],null,[["@controlUrn","@referringModuleKey","@recipientUrns","@messageComposeFlowTrackingId","@sourceType"],[[30,0,["model","entryPointData","controlUrn"]],[30,0,["model","entryPointData","referringModuleKey"]],[30,0,["model","entryPointData","recipientUrns"]],[30,0,["model","entryPointData","messageComposeFlowTrackingId"]],"PILLAR"]],null],[1,"\\n"]],[]],null],[10,0],[14,"data-feedback-redacted",""],[14,0,"msg-convo-wrapper msg-thread msg-thread--pillar msg-compose-container relative display-flex"],[12],[1,"\\n  "],[8,[39,2],null,[["@bemPrefix"],["msg-title-bar"]],[["default"],[[[[1,"\\n    "],[8,[39,3],null,[["@onClick"],[[30,0,["onReflowBackClick"]]]],null],[1,"\\n    "],[10,"h1"],[14,0,"t-16 t-black t-bold"],[12],[1,"\\n      "],[1,[28,[35,4],["i18n_new_messaging_conversations","messaging/templates/compose"],null]],[1,"\\n    "],[13],[1,"\\n"],[41,[30,0,["showVideoMeetingButtonInHeader"]],[[[1,"      "],[8,[39,5],null,[["@viewData","@ctaSize","@updateTextarea","@parentRefocusElement","@invertColor"],[[30,0,["virtualMeetingCtaViewData"]],2,[30,0,["updateMessageCompose"]],".msg-thread",[30,1]]],null],[1,"\\n"]],[]],null],[1,"  "]],[]]]]],[1,"\\n  "],[8,[39,6],null,[["@addParticipantsPageKey","@composeToNonConnection","@setComposeContext","@composeViewContext","@conversation","@conversationName","@dragAndDropTrackingKeys","@fileUploadControlName","@imagePasteControlName","@imageUploadControlName","@isInMailCompose","@isNew","@messageContext","@messageRecipients","@entryPointData","@msgAdapterOptions","@muteConversationControlName","@mutePageKey","@openConversation","@prefilledMessage","@quickRepliesUseCase","@sendMessageControlName","@targetUrl","@recipientSuggestionEnabled","@showPremiumUpsell","@onConversationFetched","@onConversationRemoved","@recipientsChanged","@didSubmitMessage","@contextByRecipients","@messageComposeFlowTrackingId","@uiSenderContext"],["flagship3_messaging_participant_detail_screen_displayed",[30,0,["composeToNonConnection"]],[30,0,["setComposeContext"]],[30,0,["model","composeViewContext"]],[30,0,["conversation"]],[30,0,["model","conversationName"]],[30,0,["ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS","PILLAR"]],[30,0,["CONTROL_NAMES","CONVERSATION","FILE_UPLOAD"]],[30,0,["CONTROL_NAMES","CONVERSATION","IMAGE_PASTE"]],[30,0,["CONTROL_NAMES","CONVERSATION","IMAGE_UPLOAD"]],[30,0,["model","isInMailCompose"]],true,[30,0,["model","messageContext"]],[30,0,["model","recipients"]],[30,0,["model","entryPointData"]],[30,0,["msgAdapterOptions"]],[30,0,["CONTROL_NAMES","CONVERSATION_ACTIONS","MUTE"]],"flagship3_messaging_conversation_window_muted.page",[30,0,["openConversation"]],[30,0,["model","prepopulatedMessage"]],"QUICK_REPLY",[30,0,["CONTROL_NAMES","CONVERSATION","SEND"]],[30,0,["model","targetURL"]],true,[30,0,["model","showPremiumUpsell"]],[30,0,["onConversationFetched"]],[30,0,["onConversationRemoved"]],[30,0,["recipientsChanged"]],[30,0,["didSubmitMessage"]],[30,0,["model","contextByRecipients"]],[30,0,["model","entryPointData","messageComposeFlowTrackingId"]],[30,2]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,7],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["isDiscardModalOpen"]],[28,[37,4],["i18n_discard_message","messaging/templates/compose"],null],[28,[37,4],["i18n_discard_body","messaging/templates/compose"],null],[28,[37,4],["i18n_discard","messaging/templates/compose"],null],[28,[37,4],["i18n_cancel","messaging/templates/compose"],null],[30,0,["retryTransition"]],[30,0,["closeDiscardModal"]],[30,0,["closeDiscardModal"]]]],null]],["@hasBadge","@uiSenderContext"],false,["if","message-button@mcie-tracking-beacon","title-bar@title-bar","scaffold-layout@detail/back-button","t","msg-ui@virtual-meeting-cta-presenter","msg-ui@compose-feature","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"messaging/templates/compose.hbs",isStrictMode:!1})
e.default=n}))
define("messaging/templates/error",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"HOKwCi9X",block:'[[[10,0],[14,0,"msg-thread display-flex"],[12],[1,"\\n  "],[8,[39,0],null,[["@bemPrefix","@title"],["msg-title-bar",""]],null],[1,"\\n\\n  "],[10,0],[14,0,"msg-ghost-form__msg-list"],[12],[1,"\\n    "],[8,[39,1],null,[["@headline","@illustration","@message"],[[28,[37,2],["i18n_error_headline","messaging/templates/error"],null],"sad-browser-muted",[28,[37,2],["i18n_error_message","messaging/templates/error"],null]]],null],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"msg-ghost-form"],[12],[1,"\\n    "],[10,0],[14,0,"msg-ghost-form__form t-14 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_write_message","messaging/templates/error"],null]],[1,"\\n    "],[13],[1,"\\n    "],[10,"footer"],[14,0,"msg-ghost-form__footer"],[12],[1,"\\n      "],[8,[39,3],null,[["@classNames","@size","@disabled","@text"],["mlA",1,true,[28,[37,2],["i18n_send","messaging/templates/error"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["title-bar@title-bar","artdeco-empty-state@artdeco-empty-state","t","artdeco-button@artdeco-button"]]',moduleName:"messaging/templates/error.hbs",isStrictMode:!1})
e.default=n}))
define("messaging/templates/index",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"IDWBuFsD",block:'[[[1,"\\n"],[10,0],[14,0,"display-flex full-height flex-grow-1"],[12],[1,"\\n  "],[10,0],[14,0,"align-items-center display-flex flex-column mvA mhA"],[12],[1,"\\n    "],[10,0],[14,0,"msg-conversations-container__no-thread-illustration"],[12],[13],[1,"\\n\\n    "],[10,0],[14,0,"text-align-center pv3"],[12],[1,"\\n"],[41,[30,0,["conversations","length"]],[[[1,"        "],[10,2],[12],[1,[28,[35,1],["i18n_select_a_message","messaging/templates/index"],null]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,2],[14,0,"mb4"],[12],[1,"\\n          "],[10,"strong"],[12],[1,[28,[35,1],["i18n_no_messages_yet","messaging/templates/index"],null]],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_why_start_a_message","messaging/templates/index"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[14,0,"mb4"],[12],[1,"\\n          "],[1,[28,[35,1],["i18n_great_things","messaging/templates/index"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n\\n    "],[8,[39,2],[[16,"title",[28,[37,1],["i18n_new_message","messaging/templates/index"],null]],[24,0,"artdeco-button artdeco-button--secondary artdeco-button--muted"],[4,[38,4],["compose_message"],null]],[["@route","@query"],["compose",[28,[37,3],null,[["composeOptionType","recipients"],[[27],[27]]]]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,1],["i18n_new_message","messaging/templates/index"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["if","t","link-to","hash","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"messaging/templates/index.hbs",isStrictMode:!1})
e.default=n}))
define("messaging/templates/thread",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"DEkV+j58",block:'[[[41,[30,0,["model","entryPointData","loaded"]],[[[1,"  "],[8,[39,1],null,[["@controlUrn","@referringModuleKey","@recipientUrns","@messageComposeFlowTrackingId","@sourceType"],[[30,0,["model","entryPointData","controlUrn"]],[30,0,["model","entryPointData","referringModuleKey"]],[30,0,["model","entryPointData","recipientUrns"]],[30,0,["model","entryPointData","messageComposeFlowTrackingId"]],"PILLAR"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[10,0],[14,0,"msg-convo-wrapper msg-thread msg-thread--pillar relative display-flex"],[15,1,[30,0,["messageThreadId"]]],[14,"data-feedback-redacted",""],[12],[1,"\\n"],[41,[28,[37,2],[[30,0,["isSponsoredInmail"]],[30,0,["isSponsoredConversation"]]],null],[[[1,"    "],[8,[39,3],null,[["@viewData","@enableReportingSponsoredConversation","@redirectToActiveConversation","@toggleStarState"],[[30,0,["sponsoredPillarTitleBarViewData"]],[30,0,["enableReportingSponsoredConversation"]],[30,0,["redirectToActiveConversation"]],[28,[37,4],[[30,0,["toggleStarState"]],[30,0,["conversation"]]],null]]],[["default"],[[[[1,"\\n      "],[8,[39,5],null,[["@viewData","@headerReactionNotification"],[[30,0,["sponsoredConversationThreadTitleTextViewData"]],[30,0,["headerReactionNotification"]]]],null],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["isSponsoredInmail"]],[[[1,"      "],[8,[39,6],[[24,0,"flex-1 display-flex flex-column"]],[["@viewData","@actionTrackingPrefix","@redirectToActiveConversation","@isCompanySender"],[[30,0,["spinMailThreadViewData"]],"",[30,0,["redirectToActiveConversation"]],[30,0,["isCompanySender"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isSponsoredConversation"]],[[[1,"      "],[8,[39,7],null,[["@viewData","@renderThread","@isOverlay"],[[30,0,["sponsoredConversationThreadViewData"]],[30,0,["renderThread"]],false]],null],[1,"\\n"]],[]],null]],[]],[[[1,"    "],[8,[39,8],null,[["@conversation","@onReflowBackClick","@headerReactionNotification","@showRenameConversationForm","@redirectToActiveConversation","@showVideoMeetingButtonInHeader","@messageThreadId"],[[30,0,["conversation"]],[30,0,["onReflowBackClick"]],[30,0,["headerReactionNotification"]],[28,[37,4],[[30,0,["toggleShowRenameConversationForm"]],true],null],[30,0,["redirectToActiveConversation"]],[30,0,["showVideoMeetingButtonInHeader"]],[30,0,["messageThreadId"]]]],null],[1,"\\n"],[41,[30,0,["renderThread"]],[[[1,"      "],[8,[39,9],null,[["@addParticipantsPageKey","@composeViewContext","@conversation","@dragAndDropTrackingKeys","@fileUploadControlName","@handleSuccessfulDiscardRequest","@imagePasteControlName","@imageUploadControlName","@inmailReplyDeepLink","@isOverlay","@messageListId","@msgAdapterOptions","@entryPointData","@muteConversationControlName","@mutePageKey","@quickRepliesUseCase","@renamePageKey","@sendMessageControlName","@showRenameConversationForm","@toggleShowRenameConversation"],["flagship3_messaging_participant_detail_screen_displayed",[30,0,["model","composeViewContext"]],[30,0,["conversation"]],[30,0,["ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS","PILLAR"]],[30,0,["CONTROL_NAMES","CONVERSATION","FILE_UPLOAD"]],[30,0,["handleSuccessfulDiscardRequest"]],[30,0,["CONTROL_NAMES","CONVERSATION","IMAGE_PASTE"]],[30,0,["CONTROL_NAMES","CONVERSATION","IMAGE_UPLOAD"]],[30,0,["inmailReplyDeepLink"]],false,[30,0,["messageListId"]],[30,0,["msgAdapterOptions"]],[30,0,["model","entryPointData"]],[30,0,["CONTROL_NAMES","CONVERSATION_ACTIONS","MUTE"]],"flagship3_messaging_conversation_window_muted.page","QUICK_REPLY","flagship3_messaging_conversation_window_rename.page",[30,0,["CONTROL_NAMES","CONVERSATION","SEND"]],[30,0,["showRenameConversationForm"]],[30,0,["toggleShowRenameConversationForm"]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,10],null,[["@size"],["small"]],null],[1,"\\n"]],[]]]],[]]],[13],[1,"\\n\\n"],[8,[39,11],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["isDiscardModalOpen"]],[28,[37,12],["i18n_discard_message","messaging/templates/thread"],null],[28,[37,12],["i18n_discard_body","messaging/templates/thread"],null],[28,[37,12],["i18n_discard","messaging/templates/thread"],null],[28,[37,12],["i18n_cancel","messaging/templates/thread"],null],[30,0,["retryTransition"]],[30,0,["closeDiscardModal"]],[30,0,["closeDiscardModal"]]]],null],[1,"\\n\\n"],[10,0],[14,1,"msg-pillar__reactor-list-outlet"],[12],[13]],[],false,["if","message-button@mcie-tracking-beacon","global-helpers@or","msg-spinmail@sponsored-pillar-title-bar-presenter","fn","messaging@conversation-thread-title-text-presenter","msg-spinmail@spinmail-thread-presenter","msg-spinmail@sponsored-conversation-thread-feature","messaging@conversation-thread-title-bar-feature","msg-ui@thread-feature","artdeco-loader@artdeco-loader","artdeco-modal@artdeco-confirmation-dialog","t"]]',moduleName:"messaging/templates/thread.hbs",isStrictMode:!1})
e.default=n}))
define.alias("ember-async-data/tracked-async-data","messaging/tracked-async-data")
define("messaging/utils/conversations-redirection",["exports","urn-utils","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,i){if(i.to&&!i.to.name.match("thread")&&!i.to.name.match("compose")){let i={}
if(e.data.length){const a=(0,n.get)(e.data,"firstObject.entityUrn")
i=["thread",(0,t.extractEntityInfoFromUrn)(a).id]}else i=["compose"]
return i}return[!1]}}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","messaging/utils/get-box-model-width")
define("messaging/utils/get-route-pagekey",["exports","msg-shared/utils/constants","@ember/debug"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const{searchTerm:n,filter:a}=e
if(n)return"flagship3_messaging_search_results"
if(a){let e=a.toLowerCase()
if("mr"===e)return"flagship3_pending_messaging_request_inbox"
if("mr-declined"===e)return"flagship3_declined_messaging_request_inbox"
a===i.CONNECTIONS&&(e="myconnections")
return`flagship3_messaging_conversation_list_${e}`}return t}
const{SEARCH_FILTER:i}=t.default}))
define.alias("client-sensor-web/utils/helpers","messaging/utils/helpers")
define("messaging/utils/leave-messaging-modal",["exports","@ember/utils","global-utils/utils/is-browser","msg-shared/utils/constants"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.composeHasValue=s
e.nativeLeaveAlert=function(e,t){if(n.default&&s()){const n=t.lookupTranslation("components/messaging@modals/leave-messaging-alert-modal","i18n_leave_body")();(e||window.event).returnValue=n
return n}return}
const{COMPOSE_FORM_CONTENTEDITABLE:a}=i.default
function s(){if(n.default){const e=document.querySelector(a)
return e&&!e.classList.contains("msg-form__contenteditable--slide-out")&&(0,t.isPresent)((e.value||e.textContent||"").trim())}return!1}}))
define("messaging/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define.alias("ember-vector-images/utils/vector-url","messaging/utils/vector-url")
define("messaging/viewdata/sdk-conversation-thread-title-bar-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","messaging/viewdata/sdk-conversation-thread-title-text-viewdata","msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata","msg-shared/utils/sdk-view-data-helpers","global-helpers/helpers/name"],(function(e,t,n,i,a,s,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=["conversation","participants","msgDataManager","authenticatedUserProfile","i18n","formatter","presenceAPI"]
class l extends t.default{get requiredProps(){return o}get isOrganization(){return(0,s.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserProfile)[0].kind===s.PARTICIPANT_TYPES.ORGANIZATION}get title(){const e=(0,s.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserProfile)[0],t="components/messaging@conversation-thread-title-bar-feature"
return this.isOrganization?this.props.i18n.lookupTranslation(t,"i18n_show_page")([{pageName:this.conversationThreadTitleTextViewData.title}]):this.props.i18n.lookupTranslation(t,"i18n_show_profile")([{name:this.props.formatter.formatName((0,r.getName)(e),"full")}])}get recipientProfileUrl(){const e=(0,s.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserProfile)
if(e.length){var t
return this.isOrganization?e[0].pageUrl:(null===(t=e[0].profile)||void 0===t?void 0:t.url)??"UNKNOWN"}return"UNKNOWN"}get shouldRenderStaticName(){return!!this.recipientProfileUrl&&"UNKNOWN"===this.recipientProfileUrl}get creatorProfileViewEnabled(){const{conversation:e}=this.props
return(0,s.isConversationFeatureSupported)(e,"VIEW_CREATOR_PROFILE")}get conversationThreadTitleTextViewData(){const{conversation:e,authenticatedUserProfile:t,i18n:n,participants:a,formatter:s,msgDataManager:r}=this.props
if(e)return new i.default({conversation:e,participants:a,authenticatedUserProfile:t,i18n:n,formatter:s,msgDataManager:r})}get conversationHeaderDropdownMenuViewData(){const{conversation:e,authenticatedUserProfile:t,i18n:i,formatter:a,presenceAPI:s}=this.props
return new n.default({conversation:e,authenticatedUserProfile:t,participants:this.props.participants,i18n:i,formatter:a,presenceAPI:s,isInteractiveMessagingComponent:!1})}get virtualMeetingCtaViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:i}=this.props
return new a.default({conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:i})}get entityUrn(){return this.props.conversation.entityUrn}get isStarred(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.categories)||void 0===t?void 0:t.includes("STARRED")}}e.default=l}))
define("messaging/viewdata/sdk-conversation-thread-title-text-viewdata",["exports","@ember/object","msg-data/viewdata","global-utils/utils/html-safe","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=["conversation","participants","authenticatedUserProfile","i18n","formatter","msgDataManager"]
class r extends n.default{get requiredProps(){return s}get title(){const{conversation:e,formatter:t}=this.props
return e.groupChat?e.title?e.title:this._groupChatParticipantsText():this.firstNonSelfParticipantProfile?(0,a.getParticipantNameByKind)(this.firstNonSelfParticipantProfile,t,"full"):""}get isHoverableName(){var e,t
const{conversation:n}=this.props
return!(n.groupChat||null===(e=this.firstNonSelfParticipantProfile)||void 0===e||null===(t=e.profile)||void 0===t||!t.url||!(0,a.isConversationFeatureSupported)(n,"VIEW_CREATOR_PROFILE"))}get participantProfileUrn(){var e
return null===(e=this.firstNonSelfParticipantProfile)||void 0===e?void 0:e.hostIdentityUrn}get participantOccupation(){var e
return null===(e=this.firstNonSelfParticipantProfile)||void 0===e?void 0:e.headline}get isGroupChat(){return this.props.conversation.groupChat}get hasPresence(){return(0,a.shouldShowPresenceInformationForConversation)(this.props.conversation,this.props.msgDataManager,this.props.authenticatedUserProfile,this.props.participants)}get groupChatSubtitle(){const{conversation:e,i18n:n}=this.props
return e.groupChat?e.title?1===e.participants.length?n.lookupTranslation("components/messaging@conversation-thread-title-text-presenter","i18n_just_you")():this._groupChatParticipantsText():this.props.i18n.lookupTranslation("components/messaging@conversation-thread-title-text-presenter","i18n_participants")([{count:(0,t.get)(e,"participants.length")}]):""}get participants(){return this.props.participants}get firstNonSelfParticipantProfile(){const{authenticatedUserProfile:e,conversation:t}=this.props
return(0,a.isConversationWithAdvertiser)(t)?(0,a.getParticipantsForConversationsWithAdvertisers)(this.props.participants,e)[0]:(0,a.getNonSelfParticipants)(this.props.participants,e)[0]}_groupChatParticipantsText(){const{authenticatedUserProfile:e,i18n:t}=this.props
return(0,i.default)(this.props.i18n.lookupTranslation("components/messaging@conversation-thread-title-text-presenter","i18n_conversation_header_familiar_names")([{names:(0,a.participantNamesWithSelf)(this.props.participants,e,!0,t)}]))}}e.default=r}))

//# sourceMappingURL=engine.map